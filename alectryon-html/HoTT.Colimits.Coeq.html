<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" class="alectryon-standalone" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<title>Coeq.v</title>
<link rel="stylesheet" href="alectryon.css" type="text/css" />
<link rel="stylesheet" href="docutils_basic.css" type="text/css" />
<link rel="stylesheet" href="pygments.css" type="text/css" />
<script type="text/javascript" src="alectryon.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" />
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="alectryon-root alectryon-centered"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Coq+SerAPI v8.19.0+0.19.3. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus. On Mac, use <kbd>‚åò</kbd> instead of <kbd>Ctrl</kbd>.</div><div class="document">


<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk0"><span class="kn">Require Import</span> Basics.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">[Loading ML file number_string_notation_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span> Types.Paths Types.Arrow Types.Sigma Types.Forall Types.<span class="kn">Universe</span> <span class="nf">Types</span>.Prod.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Require Import</span> Colimits.GraphQuotient.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Local</span> <span class="kn">Open Scope</span> path_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** * Homotopy coequalizers *)</span>

<span class="sd">(** ** Definition *)</span>

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">Coeq</span>@{i j u} {B : <span class="kt">Type</span>@{i}} {A : <span class="kt">Type</span>@{j}} (f g : B -&gt; A) : <span class="kt">Type</span>@{u}
  := GraphQuotient@{i j u} (<span class="kr">fun</span> <span class="nv">a</span> <span class="nv">b</span> =&gt; {x : B &amp; (f x = a) * (g x = b)}).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">coeq</span> {<span class="nv">B</span> <span class="nv">A</span> <span class="nv">f</span> <span class="nv">g</span>} (<span class="nv">a</span> : A) : @Coeq B A f g := gq a.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">cglue</span> {<span class="nv">B</span> <span class="nv">A</span> <span class="nv">f</span> <span class="nv">g</span>} <span class="nv">b</span> : @coeq B A f g (f b) = coeq (g b)
  := gqglue (b; (idpath,idpath)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> Coeq : <span class="nb">simpl</span> never.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> coeq : <span class="nb">simpl</span> never.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> cglue : <span class="nb">simpl</span> never.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk1"><span class="kn">Definition</span> <span class="nf">Coeq_ind</span> {<span class="nv">B</span> <span class="nv">A</span> <span class="nv">f</span> <span class="nv">g</span>} (<span class="nv">P</span> : @Coeq B A f g -&gt; <span class="kt">Type</span>)
  (<span class="nv">coeq&#39;</span> : <span class="kr">forall</span> <span class="nv">a</span>, P (coeq a))
  (<span class="nv">cglue&#39;</span> : <span class="kr">forall</span> <span class="nv">b</span>, (cglue b) # (coeq&#39; (f b)) = coeq&#39; (g b))
  : <span class="kr">forall</span> <span class="nv">w</span>, P w.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>Coeq f g -&gt; <span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P (coeq a)</span></span></span><br><span><var>cglue'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B,
transport P (cglue b) (coeq&#39; (f b)) =
coeq&#39; (g b)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">w</span> : Coeq f g, P w</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk2"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>Coeq f g -&gt; <span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P (coeq a)</span></span></span><br><span><var>cglue'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B,
transport P (cglue b) (coeq&#39; (f b)) =
coeq&#39; (g b)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">w</span> : Coeq f g, P w</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk3" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk3">rapply GraphQuotient_ind.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>Coeq f g -&gt; <span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P (coeq a)</span></span></span><br><span><var>cglue'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B,
transport P (cglue b) (coeq&#39; (f b)) =
coeq&#39; (g b)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">a</span> <span class="nv">b</span> : A)
(<span class="nv">s</span> : {x : B &amp; (f x = a) * (g x = b)}),
transport P (gqglue s) (<span class="nl">?Goal</span> a) = <span class="nl">?Goal</span> b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk4" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk4"><span class="nb">intros</span> a b [x [[] []]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>Coeq f g -&gt; <span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P (coeq a)</span></span></span><br><span><var>cglue'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B,
transport P (cglue b) (coeq&#39; (f b)) =
coeq&#39; (g b)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport P (gqglue (x; (<span class="mi">1</span>, <span class="mi">1</span>))) (<span class="nl">?Goal</span> (f x)) =
<span class="nl">?Goal</span> (g x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (cglue&#39; x).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk5" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk5"><span class="kn">Lemma</span> <span class="nf">Coeq_ind_beta_cglue</span> {<span class="nv">B</span> <span class="nv">A</span> <span class="nv">f</span> <span class="nv">g</span>} (<span class="nv">P</span> : @Coeq B A f g -&gt; <span class="kt">Type</span>)
  (<span class="nv">coeq&#39;</span> : <span class="kr">forall</span> <span class="nv">a</span>, P (coeq a))
  (<span class="nv">cglue&#39;</span> : <span class="kr">forall</span> <span class="nv">b</span>, (cglue b) # (coeq&#39; (f b)) = coeq&#39; (g b)) (<span class="nv">b</span>:B)
  : apD (Coeq_ind P coeq&#39; cglue&#39;) (cglue b) = cglue&#39; b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>Coeq f g -&gt; <span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P (coeq a)</span></span></span><br><span><var>cglue'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B,
transport P (cglue b) (coeq&#39; (f b)) =
coeq&#39; (g b)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">apD (Coeq_ind P coeq&#39; cglue&#39;) (cglue b) = cglue&#39; b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk6"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>Coeq f g -&gt; <span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P (coeq a)</span></span></span><br><span><var>cglue'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B,
transport P (cglue b) (coeq&#39; (f b)) =
coeq&#39; (g b)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">apD (Coeq_ind P coeq&#39; cglue&#39;) (cglue b) = cglue&#39; b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">rapply GraphQuotient_ind_beta_gqglue.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk7"><span class="kn">Definition</span> <span class="nf">Coeq_rec</span> {<span class="nv">B</span> <span class="nv">A</span> <span class="nv">f</span> <span class="nv">g</span>} (<span class="nv">P</span> : <span class="kt">Type</span>) (<span class="nv">coeq&#39;</span> : A -&gt; P)
  (<span class="nv">cglue&#39;</span> : <span class="kr">forall</span> <span class="nv">b</span>, coeq&#39; (f b) = coeq&#39; (g b))
  : @Coeq B A f g -&gt; P.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span>A -&gt; P</span></span></span><br><span><var>cglue'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, coeq&#39; (f b) = coeq&#39; (g b)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Coeq f g -&gt; P</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk8"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span>A -&gt; P</span></span></span><br><span><var>cglue'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, coeq&#39; (f b) = coeq&#39; (g b)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Coeq f g -&gt; P</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk9" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk9">rapply GraphQuotient_rec.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span>A -&gt; P</span></span></span><br><span><var>cglue'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, coeq&#39; (f b) = coeq&#39; (g b)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : A,
{x : B &amp; (f x = a) * (g x = b)} -&gt; <span class="nl">?Goal</span> a = <span class="nl">?Goal</span> b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chka" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chka"><span class="nb">intros</span> a b [x [[] []]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span>A -&gt; P</span></span></span><br><span><var>cglue'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, coeq&#39; (f b) = coeq&#39; (g b)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="nl">?Goal</span> (f x) = <span class="nl">?Goal</span> (g x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (cglue&#39; x).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkb"><span class="kn">Definition</span> <span class="nf">Coeq_rec_beta_cglue</span> {<span class="nv">B</span> <span class="nv">A</span> <span class="nv">f</span> <span class="nv">g</span>} (<span class="nv">P</span> : <span class="kt">Type</span>) (<span class="nv">coeq&#39;</span> : A -&gt; P)
  (<span class="nv">cglue&#39;</span> : <span class="kr">forall</span> <span class="nv">b</span>:B, coeq&#39; (f b) = coeq&#39; (g b)) (<span class="nv">b</span>:B)
  : ap (Coeq_rec P coeq&#39; cglue&#39;) (cglue b) = cglue&#39; b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span>A -&gt; P</span></span></span><br><span><var>cglue'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, coeq&#39; (f b) = coeq&#39; (g b)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap (Coeq_rec P coeq&#39; cglue&#39;) (cglue b) = cglue&#39; b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkc" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkc"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span>A -&gt; P</span></span></span><br><span><var>cglue'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, coeq&#39; (f b) = coeq&#39; (g b)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap (Coeq_rec P coeq&#39; cglue&#39;) (cglue b) = cglue&#39; b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">rapply GraphQuotient_rec_beta_gqglue.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkd"><span class="kn">Definition</span> <span class="nf">Coeq_ind_hprop</span> {<span class="nv">B</span> <span class="nv">A</span> <span class="nv">f</span> <span class="nv">g</span>} (<span class="nv">P</span> : @Coeq B A f g -&gt; <span class="kt">Type</span>)
  `{<span class="kr">forall</span> <span class="nv">x</span>, IsHProp (P x)}
  (i : <span class="kr">forall</span> <span class="nv">a</span>, P (coeq a))
  : <span class="kr">forall</span> <span class="nv">x</span>, P x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>Coeq f g -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, IsHProp (P x)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P (coeq a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, P x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chke" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chke"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>Coeq f g -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, IsHProp (P x)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P (coeq a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, P x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkf" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkf">snrapply Coeq_ind.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>Coeq f g -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, IsHProp (P x)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P (coeq a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A, P (coeq a)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="coeq-v-chk10" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>Coeq f g -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, IsHProp (P x)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P (coeq a)</span></span></span><br></div><label class="goal-separator" for="coeq-v-chk10"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> : B,
transport P (cglue b) (<span class="nl">?coeq&#39;</span> (f b)) = <span class="nl">?coeq&#39;</span> (g b)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk11"><span class="mi">1</span>: <span class="bp">exact</span> i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>Coeq f g -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, IsHProp (P x)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P (coeq a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> : B,
transport P (cglue b) (i (f b)) = i (g b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk12" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk12"><span class="nb">intros</span> b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>Coeq f g -&gt; <span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">x</span> : Coeq f g, IsHProp (P x)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">a</span> : A, P (coeq a)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport P (cglue b) (i (f b)) = i (g b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">rapply path_ishprop.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** Universal property *)</span>
<span class="sd">(** See Colimits/CoeqUnivProp.v for a similar universal property without [Funext]. *)</span>

</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk13" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk13"><span class="kn">Definition</span> <span class="nf">Coeq_unrec</span> {<span class="nv">B</span> <span class="nv">A</span>} (<span class="nv">f</span> <span class="nv">g</span> : B -&gt; A) {<span class="nv">P</span>}
  (<span class="nv">h</span> : Coeq f g -&gt; P)
  : {k : A -&gt; P &amp; k o f == k o g}.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>Coeq f g -&gt; P</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{k : A -&gt; P &amp; k o f == k o g}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk14" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk14"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>Coeq f g -&gt; P</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{k : A -&gt; P &amp; k o f == k o g}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk15"><span class="kr">exists</span> (<span class="nv">h</span> <span class="nv">o</span> <span class="nv">coeq</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>Coeq f g -&gt; P</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">x</span> : B =&gt; h (coeq (f x))) ==
(<span class="kr">fun</span> <span class="nv">x</span> : B =&gt; h (coeq (g x)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk16" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk16"><span class="nb">intros</span> b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>Coeq f g -&gt; P</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">h (coeq (f b)) = h (coeq (g b))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (ap h (cglue b)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk17" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk17"><span class="kn">Definition</span> <span class="nf">isequiv_Coeq_rec</span> `{Funext} {B A} (f g : B -&gt; A) P
  : IsEquiv (<span class="kr">fun</span> <span class="nv">p</span> : {h : A -&gt; P &amp; h o f == h o g} =&gt; Coeq_rec P p.<span class="mi">1</span> p.<span class="mi">2</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsEquiv
  (<span class="kr">fun</span> <span class="nv">p</span> : {h : A -&gt; P &amp; h o f == h o g} =&gt;
   Coeq_rec P p.<span class="mi">1</span> p.<span class="mi">2</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk18" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk18"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">IsEquiv
  (<span class="kr">fun</span> <span class="nv">p</span> : {h : A -&gt; P &amp; h o f == h o g} =&gt;
   Coeq_rec P p.<span class="mi">1</span> p.<span class="mi">2</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk19" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk19">srapply (isequiv_adjointify _ (Coeq_unrec f g)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">p</span> : {h : A -&gt; P &amp; h o f == h o g} =&gt;
 Coeq_rec P p.<span class="mi">1</span> p.<span class="mi">2</span>) o Coeq_unrec f g == idmap</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="coeq-v-chk1a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><label class="goal-separator" for="coeq-v-chk1a"><hr></label><div class="goal-conclusion">Coeq_unrec f g
o (<span class="kr">fun</span> <span class="nv">p</span> : {h : A -&gt; P &amp; h o f == h o g} =&gt;
   Coeq_rec P p.<span class="mi">1</span> p.<span class="mi">2</span>) == idmap</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk1b" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk1b">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">p</span> : {h : A -&gt; P &amp; h o f == h o g} =&gt;
 Coeq_rec P p.<span class="mi">1</span> p.<span class="mi">2</span>) o Coeq_unrec f g == idmap</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk1c" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk1c"><span class="nb">intros</span> h.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>Coeq f g -&gt; P</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Coeq_rec P (Coeq_unrec f g h).<span class="mi">1</span> (Coeq_unrec f g h).<span class="mi">2</span> =
h</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk1d" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk1d"><span class="nb">apply</span> path_arrow.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>Coeq f g -&gt; P</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Coeq_rec P (Coeq_unrec f g h).<span class="mi">1</span> (Coeq_unrec f g h).<span class="mi">2</span> ==
h</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk1e" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk1e">srapply Coeq_ind; <span class="nb">intros</span> b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>Coeq f g -&gt; P</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">w</span> : Coeq f g =&gt;
 Coeq_rec P (Coeq_unrec f g h).<span class="mi">1</span> (Coeq_unrec f g h).<span class="mi">2</span>
   w = h w) (coeq b)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="coeq-v-chk1f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>Coeq f g -&gt; P</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><label class="goal-separator" for="coeq-v-chk1f"><hr></label><div class="goal-conclusion">transport
  (<span class="kr">fun</span> <span class="nv">w</span> : Coeq f g =&gt;
   Coeq_rec P (Coeq_unrec f g h).<span class="mi">1</span>
     (Coeq_unrec f g h).<span class="mi">2</span> w = h w) (cglue b)
  ((<span class="kr">fun</span> <span class="nv">b</span> : A =&gt; <span class="nl">?Goal</span>) (f b)) =
(<span class="kr">fun</span> <span class="nv">b</span> : A =&gt; <span class="nl">?Goal</span>) (g b)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk20" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk20"><span class="mi">1</span>: <span class="nb">cbn</span>;<span class="bp">reflexivity</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>Coeq f g -&gt; P</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport
  (<span class="kr">fun</span> <span class="nv">w</span> : Coeq f g =&gt;
   Coeq_rec P (Coeq_unrec f g h).<span class="mi">1</span>
     (Coeq_unrec f g h).<span class="mi">2</span> w = h w) (cglue b)
  ((<span class="kr">fun</span> <span class="nv">b</span> : A =&gt;
    <span class="mi">1</span>
    :
    (<span class="kr">fun</span> <span class="nv">w</span> : Coeq f g =&gt;
     Coeq_rec P (Coeq_unrec f g h).<span class="mi">1</span>
       (Coeq_unrec f g h).<span class="mi">2</span> w = h w) (coeq b)) (f b)) =
(<span class="kr">fun</span> <span class="nv">b</span> : A =&gt;
 <span class="mi">1</span>
 :
 (<span class="kr">fun</span> <span class="nv">w</span> : Coeq f g =&gt;
  Coeq_rec P (Coeq_unrec f g h).<span class="mi">1</span> (Coeq_unrec f g h).<span class="mi">2</span>
    w = h w) (coeq b)) (g b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk21" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk21"><span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>Coeq f g -&gt; P</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport
  (<span class="kr">fun</span> <span class="nv">w</span> : Coeq f g =&gt;
   Coeq_rec P (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; h (coeq x))
     (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; ap h (cglue b)) w = h w) (cglue b)
  <span class="mi">1</span> = <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk22" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk22">nrapply transport_paths_FlFr&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>Coeq f g -&gt; P</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap
  (Coeq_rec P (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; h (coeq x))
     (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; ap h (cglue b))) (cglue b) @ <span class="mi">1</span> =
<span class="mi">1</span> @ ap h (cglue b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk23" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk23"><span class="nb">apply</span> equiv_p1_1q.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>Coeq f g -&gt; P</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap
  (Coeq_rec P (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; h (coeq x))
     (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; ap h (cglue b))) (cglue b) =
ap h (cglue b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input">nrapply Coeq_rec_beta_cglue.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk24" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk24">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Coeq_unrec f g
o (<span class="kr">fun</span> <span class="nv">p</span> : {h : A -&gt; P &amp; h o f == h o g} =&gt;
   Coeq_rec P p.<span class="mi">1</span> p.<span class="mi">2</span>) == idmap</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk25" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk25"><span class="nb">intros</span> [h q]; srapply path_sigma&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; P</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>(<span class="kr">fun</span> <span class="nv">x</span> : B =&gt; h (f x)) == (<span class="kr">fun</span> <span class="nv">x</span> : B =&gt; h (g x))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; Coeq_rec P (h; q).<span class="mi">1</span> (h; q).<span class="mi">2</span> (coeq x)) =
h</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="coeq-v-chk26" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; P</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>(<span class="kr">fun</span> <span class="nv">x</span> : B =&gt; h (f x)) == (<span class="kr">fun</span> <span class="nv">x</span> : B =&gt; h (g x))</span></span></span><br></div><label class="goal-separator" for="coeq-v-chk26"><hr></label><div class="goal-conclusion">transport
  (<span class="kr">fun</span> <span class="nv">k</span> : A -&gt; P =&gt;
   (<span class="kr">fun</span> <span class="nv">x</span> : B =&gt; k (f x)) == (<span class="kr">fun</span> <span class="nv">x</span> : B =&gt; k (g x)))
  <span class="nl">?p</span>
  (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt;
   ap (Coeq_rec P (h; q).<span class="mi">1</span> (h; q).<span class="mi">2</span>) (cglue b)) = q</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk27" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk27">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; P</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>(<span class="kr">fun</span> <span class="nv">x</span> : B =&gt; h (f x)) == (<span class="kr">fun</span> <span class="nv">x</span> : B =&gt; h (g x))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; Coeq_rec P (h; q).<span class="mi">1</span> (h; q).<span class="mi">2</span> (coeq x)) =
h</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk28" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk28">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; P</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>(<span class="kr">fun</span> <span class="nv">x</span> : B =&gt; h (f x)) == (<span class="kr">fun</span> <span class="nv">x</span> : B =&gt; h (g x))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport
  (<span class="kr">fun</span> <span class="nv">k</span> : A -&gt; P =&gt;
   (<span class="kr">fun</span> <span class="nv">x</span> : B =&gt; k (f x)) == (<span class="kr">fun</span> <span class="nv">x</span> : B =&gt; k (g x))) <span class="mi">1</span>
  (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt;
   ap (Coeq_rec P (h; q).<span class="mi">1</span> (h; q).<span class="mi">2</span>) (cglue b)) = q</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk29" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk29"><span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; P</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>(<span class="kr">fun</span> <span class="nv">x</span> : B =&gt; h (f x)) == (<span class="kr">fun</span> <span class="nv">x</span> : B =&gt; h (g x))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; ap (Coeq_rec P h q) (cglue b)) = q</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk2a" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk2a">rapply path_forall; <span class="nb">intros</span> b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>A -&gt; P</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>(<span class="kr">fun</span> <span class="nv">x</span> : B =&gt; h (f x)) == (<span class="kr">fun</span> <span class="nv">x</span> : B =&gt; h (g x))</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap (Coeq_rec P h q) (cglue b) = q b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> Coeq_rec_beta_cglue.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">equiv_Coeq_rec</span> `{Funext} {B A} (f g : B -&gt; A) P
  : {h : A -&gt; P &amp; h o f == h o g} &lt;~&gt; (Coeq f g -&gt; P)
  := Build_Equiv _ _ _ (isequiv_Coeq_rec f g P).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** Functoriality *)</span>

</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk2b" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk2b"><span class="kn">Definition</span> <span class="nf">functor_coeq</span> {<span class="nv">B</span> <span class="nv">A</span> <span class="nv">f</span> <span class="nv">g</span> <span class="nv">B&#39;</span> <span class="nv">A&#39;</span> <span class="nv">f&#39;</span> <span class="nv">g&#39;</span>}
           (<span class="nv">h</span> : B -&gt; B&#39;) (<span class="nv">k</span> : A -&gt; A&#39;)
           (<span class="nv">p</span> : k o f == f&#39; o h) (<span class="nv">q</span> : k o g == g&#39; o h)
: @Coeq B A f g -&gt; @Coeq B&#39; A&#39; f&#39; g&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Coeq f g -&gt; Coeq f&#39; g&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk2c" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk2c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Coeq f g -&gt; Coeq f&#39; g&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk2d" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk2d"><span class="nb">refine</span> (Coeq_rec _ (coeq o k) _); <span class="nb">intros</span> b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">coeq (k (f b)) = coeq (k (g b))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk2e" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk2e"><span class="nb">refine</span> (ap coeq (p b) @ _ @ ap coeq (q b)^).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">coeq (f&#39; (h b)) = coeq (g&#39; (h b))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> cglue.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">functor_coeq_beta_cglue</span> {<span class="nv">B</span> <span class="nv">A</span> <span class="nv">f</span> <span class="nv">g</span> <span class="nv">B&#39;</span> <span class="nv">A&#39;</span> <span class="nv">f&#39;</span> <span class="nv">g&#39;</span>}
           (<span class="nv">h</span> : B -&gt; B&#39;) (<span class="nv">k</span> : A -&gt; A&#39;)
           (<span class="nv">p</span> : k o f == f&#39; o h) (<span class="nv">q</span> : k o g == g&#39; o h)
           (<span class="nv">b</span> : B)
: ap (functor_coeq h k p q) (cglue b)
  = ap coeq (p b) @ cglue (h b) @ ap coeq (q b)^
:= (Coeq_rec_beta_cglue _ _ _ b).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk2f" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk2f"><span class="kn">Definition</span> <span class="nf">functor_coeq_compose</span> {<span class="nv">B</span> <span class="nv">A</span> <span class="nv">f</span> <span class="nv">g</span> <span class="nv">B&#39;</span> <span class="nv">A&#39;</span> <span class="nv">f&#39;</span> <span class="nv">g&#39;</span> <span class="nv">B&#39;&#39;</span> <span class="nv">A&#39;&#39;</span> <span class="nv">f&#39;&#39;</span> <span class="nv">g&#39;&#39;</span>}
           (<span class="nv">h</span> : B -&gt; B&#39;) (<span class="nv">k</span> : A -&gt; A&#39;)
           (<span class="nv">p</span> : k o f == f&#39; o h) (<span class="nv">q</span> : k o g == g&#39; o h)
           (<span class="nv">h&#39;</span> : B&#39; -&gt; B&#39;&#39;) (<span class="nv">k&#39;</span> : A&#39; -&gt; A&#39;&#39;)
           (<span class="nv">p&#39;</span> : k&#39; o f&#39; == f&#39;&#39; o h&#39;) (<span class="nv">q&#39;</span> : k&#39; o g&#39; == g&#39;&#39; o h&#39;)
: functor_coeq (h&#39; o h) (k&#39; o k)
               (<span class="kr">fun</span> <span class="nv">b</span> =&gt; ap k&#39; (p b) @ p&#39; (h b))
               (<span class="kr">fun</span> <span class="nv">b</span> =&gt; ap k&#39; (q b) @ q&#39; (h b))
  == functor_coeq h&#39; k&#39; p&#39; q&#39; o functor_coeq h k p q.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>B'', A''</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f'', g''</var><span class="hyp-type"><b>: </b><span>B&#39;&#39; -&gt; A&#39;&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>h'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; B&#39;&#39;</span></span></span><br><span><var>k'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; A&#39;&#39;</span></span></span><br><span><var>p'</var><span class="hyp-type"><b>: </b><span>k&#39; o f&#39; == f&#39;&#39; o h&#39;</span></span></span><br><span><var>q'</var><span class="hyp-type"><b>: </b><span>k&#39; o g&#39; == g&#39;&#39; o h&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">functor_coeq (h&#39; o h) (k&#39; o k)
  (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; ap k&#39; (p b) @ p&#39; (h b))
  (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; ap k&#39; (q b) @ q&#39; (h b)) ==
functor_coeq h&#39; k&#39; p&#39; q&#39; o functor_coeq h k p q</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk30" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk30"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>B'', A''</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f'', g''</var><span class="hyp-type"><b>: </b><span>B&#39;&#39; -&gt; A&#39;&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>h'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; B&#39;&#39;</span></span></span><br><span><var>k'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; A&#39;&#39;</span></span></span><br><span><var>p'</var><span class="hyp-type"><b>: </b><span>k&#39; o f&#39; == f&#39;&#39; o h&#39;</span></span></span><br><span><var>q'</var><span class="hyp-type"><b>: </b><span>k&#39; o g&#39; == g&#39;&#39; o h&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">functor_coeq (h&#39; o h) (k&#39; o k)
  (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; ap k&#39; (p b) @ p&#39; (h b))
  (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; ap k&#39; (q b) @ q&#39; (h b)) ==
functor_coeq h&#39; k&#39; p&#39; q&#39; o functor_coeq h k p q</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk31" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk31"><span class="nb">refine</span> (Coeq_ind _ (<span class="kr">fun</span> <span class="nv">a</span> =&gt; <span class="mi">1</span>) _); <span class="nb">cbn</span>; <span class="nb">intros</span> b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>B'', A''</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f'', g''</var><span class="hyp-type"><b>: </b><span>B&#39;&#39; -&gt; A&#39;&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>h'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; B&#39;&#39;</span></span></span><br><span><var>k'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; A&#39;&#39;</span></span></span><br><span><var>p'</var><span class="hyp-type"><b>: </b><span>k&#39; o f&#39; == f&#39;&#39; o h&#39;</span></span></span><br><span><var>q'</var><span class="hyp-type"><b>: </b><span>k&#39; o g&#39; == g&#39;&#39; o h&#39;</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport
  (<span class="kr">fun</span> <span class="nv">w</span> : Coeq f g =&gt;
   functor_coeq (<span class="kr">fun</span> <span class="nv">x</span> : B =&gt; h&#39; (h x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; k&#39; (k x))
     (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; ap k&#39; (p b) @ p&#39; (h b))
     (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; ap k&#39; (q b) @ q&#39; (h b)) w =
   functor_coeq h&#39; k&#39; p&#39; q&#39; (functor_coeq h k p q w))
  (cglue b) <span class="mi">1</span> = <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk32" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk32">nrapply transport_paths_FlFr&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>B'', A''</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f'', g''</var><span class="hyp-type"><b>: </b><span>B&#39;&#39; -&gt; A&#39;&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>h'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; B&#39;&#39;</span></span></span><br><span><var>k'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; A&#39;&#39;</span></span></span><br><span><var>p'</var><span class="hyp-type"><b>: </b><span>k&#39; o f&#39; == f&#39;&#39; o h&#39;</span></span></span><br><span><var>q'</var><span class="hyp-type"><b>: </b><span>k&#39; o g&#39; == g&#39;&#39; o h&#39;</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap
  (functor_coeq (<span class="kr">fun</span> <span class="nv">x</span> : B =&gt; h&#39; (h x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; k&#39; (k x))
     (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; ap k&#39; (p b) @ p&#39; (h b))
     (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; ap k&#39; (q b) @ q&#39; (h b))) (cglue b) @
<span class="mi">1</span> =
<span class="mi">1</span> @
ap
  (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
   functor_coeq h&#39; k&#39; p&#39; q&#39; (functor_coeq h k p q x))
  (cglue b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk33" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk33"><span class="nb">apply</span> equiv_p1_1q; <span class="nb">symmetry</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>B'', A''</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f'', g''</var><span class="hyp-type"><b>: </b><span>B&#39;&#39; -&gt; A&#39;&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>h'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; B&#39;&#39;</span></span></span><br><span><var>k'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; A&#39;&#39;</span></span></span><br><span><var>p'</var><span class="hyp-type"><b>: </b><span>k&#39; o f&#39; == f&#39;&#39; o h&#39;</span></span></span><br><span><var>q'</var><span class="hyp-type"><b>: </b><span>k&#39; o g&#39; == g&#39;&#39; o h&#39;</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap
  (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
   functor_coeq h&#39; k&#39; p&#39; q&#39; (functor_coeq h k p q x))
  (cglue b) =
ap
  (functor_coeq (<span class="kr">fun</span> <span class="nv">x</span> : B =&gt; h&#39; (h x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; k&#39; (k x))
     (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; ap k&#39; (p b) @ p&#39; (h b))
     (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; ap k&#39; (q b) @ q&#39; (h b))) (cglue b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk34" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk34"><span class="nb">rewrite</span> ap_compose.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>B'', A''</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f'', g''</var><span class="hyp-type"><b>: </b><span>B&#39;&#39; -&gt; A&#39;&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>h'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; B&#39;&#39;</span></span></span><br><span><var>k'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; A&#39;&#39;</span></span></span><br><span><var>p'</var><span class="hyp-type"><b>: </b><span>k&#39; o f&#39; == f&#39;&#39; o h&#39;</span></span></span><br><span><var>q'</var><span class="hyp-type"><b>: </b><span>k&#39; o g&#39; == g&#39;&#39; o h&#39;</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap (functor_coeq h&#39; k&#39; p&#39; q&#39;)
  (ap (functor_coeq h k p q) (cglue b)) =
ap
  (functor_coeq (<span class="kr">fun</span> <span class="nv">x</span> : B =&gt; h&#39; (h x))
     (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; k&#39; (k x))
     (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; ap k&#39; (p b) @ p&#39; (h b))
     (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; ap k&#39; (q b) @ q&#39; (h b))) (cglue b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk35" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk35"><span class="nb">rewrite</span> !functor_coeq_beta_cglue, !ap_pp, functor_coeq_beta_cglue.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>B'', A''</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f'', g''</var><span class="hyp-type"><b>: </b><span>B&#39;&#39; -&gt; A&#39;&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>h'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; B&#39;&#39;</span></span></span><br><span><var>k'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; A&#39;&#39;</span></span></span><br><span><var>p'</var><span class="hyp-type"><b>: </b><span>k&#39; o f&#39; == f&#39;&#39; o h&#39;</span></span></span><br><span><var>q'</var><span class="hyp-type"><b>: </b><span>k&#39; o g&#39; == g&#39;&#39; o h&#39;</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(ap (functor_coeq h&#39; k&#39; p&#39; q&#39;) (ap coeq (p b)) @
 ((ap coeq (p&#39; (h b)) @ cglue (h&#39; (h b))) @
  ap coeq (q&#39; (h b))^)) @
ap (functor_coeq h&#39; k&#39; p&#39; q&#39;) (ap coeq (q b)^) =
((ap coeq (ap k&#39; (p b)) @ ap coeq (p&#39; (h b))) @
 cglue (h&#39; (h b))) @ ap coeq (ap k&#39; (q b) @ q&#39; (h b))^</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk36" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk36"><span class="nb">rewrite</span> &lt;- !ap_compose.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>B'', A''</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f'', g''</var><span class="hyp-type"><b>: </b><span>B&#39;&#39; -&gt; A&#39;&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>h'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; B&#39;&#39;</span></span></span><br><span><var>k'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; A&#39;&#39;</span></span></span><br><span><var>p'</var><span class="hyp-type"><b>: </b><span>k&#39; o f&#39; == f&#39;&#39; o h&#39;</span></span></span><br><span><var>q'</var><span class="hyp-type"><b>: </b><span>k&#39; o g&#39; == g&#39;&#39; o h&#39;</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(ap (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; functor_coeq h&#39; k&#39; p&#39; q&#39; (coeq x))
   (p b) @
 ((ap coeq (p&#39; (h b)) @ cglue (h&#39; (h b))) @
  ap coeq (q&#39; (h b))^)) @
ap (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; functor_coeq h&#39; k&#39; p&#39; q&#39; (coeq x))
  (q b)^ =
((ap (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; coeq (k&#39; x)) (p b) @
  ap coeq (p&#39; (h b))) @ cglue (h&#39; (h b))) @
ap coeq (ap k&#39; (q b) @ q&#39; (h b))^</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk37" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk37"><span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>B'', A''</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f'', g''</var><span class="hyp-type"><b>: </b><span>B&#39;&#39; -&gt; A&#39;&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>h'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; B&#39;&#39;</span></span></span><br><span><var>k'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; A&#39;&#39;</span></span></span><br><span><var>p'</var><span class="hyp-type"><b>: </b><span>k&#39; o f&#39; == f&#39;&#39; o h&#39;</span></span></span><br><span><var>q'</var><span class="hyp-type"><b>: </b><span>k&#39; o g&#39; == g&#39;&#39; o h&#39;</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(ap (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; functor_coeq h&#39; k&#39; p&#39; q&#39; (coeq x))
   (p b) @
 ((ap coeq (p&#39; (h b)) @ cglue (h&#39; (h b))) @
  ap coeq (q&#39; (h b))^)) @
ap (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; functor_coeq h&#39; k&#39; p&#39; q&#39; (coeq x))
  (q b)^ =
((ap (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; coeq (k&#39; x)) (p b) @
  ap coeq (p&#39; (h b))) @ cglue (h&#39; (h b))) @
ap coeq (ap k&#39; (q b) @ q&#39; (h b))^</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk38" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk38"><span class="nb">rewrite</span> !ap_V, ap_pp, inv_pp, &lt;- ap_compose, !concat_p_pp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>B'', A''</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f'', g''</var><span class="hyp-type"><b>: </b><span>B&#39;&#39; -&gt; A&#39;&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>h'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; B&#39;&#39;</span></span></span><br><span><var>k'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; A&#39;&#39;</span></span></span><br><span><var>p'</var><span class="hyp-type"><b>: </b><span>k&#39; o f&#39; == f&#39;&#39; o h&#39;</span></span></span><br><span><var>q'</var><span class="hyp-type"><b>: </b><span>k&#39; o g&#39; == g&#39;&#39; o h&#39;</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(((ap
     (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; functor_coeq h&#39; k&#39; p&#39; q&#39; (coeq x))
     (p b) @ ap coeq (p&#39; (h b))) @ cglue (h&#39; (h b))) @
 (ap coeq (q&#39; (h b)))^) @
(ap (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; functor_coeq h&#39; k&#39; p&#39; q&#39; (coeq x))
   (q b))^ =
(((ap (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; coeq (k&#39; x)) (p b) @
   ap coeq (p&#39; (h b))) @ cglue (h&#39; (h b))) @
 (ap coeq (q&#39; (h b)))^) @
(ap (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; coeq (k&#39; x)) (q b))^</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk39" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk39"><span class="kn">Definition</span> <span class="nf">functor_coeq_homotopy</span> {<span class="nv">B</span> <span class="nv">A</span> <span class="nv">f</span> <span class="nv">g</span> <span class="nv">B&#39;</span> <span class="nv">A&#39;</span> <span class="nv">f&#39;</span> <span class="nv">g&#39;</span>}
           (<span class="nv">h</span> : B -&gt; B&#39;) (<span class="nv">k</span> : A -&gt; A&#39;)
           (<span class="nv">p</span> : k o f == f&#39; o h) (<span class="nv">q</span> : k o g == g&#39; o h)
           (<span class="nv">h&#39;</span> : B -&gt; B&#39;) (<span class="nv">k&#39;</span> : A -&gt; A&#39;)
           (<span class="nv">p&#39;</span> : k&#39; o f == f&#39; o h&#39;) (<span class="nv">q&#39;</span> : k&#39; o g == g&#39; o h&#39;)
           (<span class="nv">r</span> : h == h&#39;) (<span class="nv">s</span> : k == k&#39;)
           (<span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">b</span>, s (f b) @ p&#39; b = p b @ ap f&#39; (r b))
           (<span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">b</span>, s (g b) @ q&#39; b = q b @ ap g&#39; (r b))
: functor_coeq h k p q == functor_coeq h&#39; k&#39; p&#39; q&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>h'</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k'</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p'</var><span class="hyp-type"><b>: </b><span>k&#39; o f == f&#39; o h&#39;</span></span></span><br><span><var>q'</var><span class="hyp-type"><b>: </b><span>k&#39; o g == g&#39; o h&#39;</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>h == h&#39;</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>k == k&#39;</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, s (f b) @ p&#39; b = p b @ ap f&#39; (r b)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, s (g b) @ q&#39; b = q b @ ap g&#39; (r b)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">functor_coeq h k p q == functor_coeq h&#39; k&#39; p&#39; q&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk3a" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk3a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>h'</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k'</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p'</var><span class="hyp-type"><b>: </b><span>k&#39; o f == f&#39; o h&#39;</span></span></span><br><span><var>q'</var><span class="hyp-type"><b>: </b><span>k&#39; o g == g&#39; o h&#39;</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>h == h&#39;</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>k == k&#39;</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, s (f b) @ p&#39; b = p b @ ap f&#39; (r b)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, s (g b) @ q&#39; b = q b @ ap g&#39; (r b)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">functor_coeq h k p q == functor_coeq h&#39; k&#39; p&#39; q&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk3b" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk3b"><span class="nb">refine</span> (Coeq_ind _ (<span class="kr">fun</span> <span class="nv">a</span> =&gt; ap coeq (s a)) _); <span class="nb">cbn</span>; <span class="nb">intros</span> b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>h'</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k'</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p'</var><span class="hyp-type"><b>: </b><span>k&#39; o f == f&#39; o h&#39;</span></span></span><br><span><var>q'</var><span class="hyp-type"><b>: </b><span>k&#39; o g == g&#39; o h&#39;</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>h == h&#39;</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>k == k&#39;</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, s (f b) @ p&#39; b = p b @ ap f&#39; (r b)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, s (g b) @ q&#39; b = q b @ ap g&#39; (r b)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport
  (<span class="kr">fun</span> <span class="nv">w</span> : Coeq f g =&gt;
   functor_coeq h k p q w = functor_coeq h&#39; k&#39; p&#39; q&#39; w)
  (cglue b) (ap coeq (s (f b))) = ap coeq (s (g b))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk3c" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk3c"><span class="nb">refine</span> (transport_paths_FlFr (cglue b) _ @ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>h'</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k'</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p'</var><span class="hyp-type"><b>: </b><span>k&#39; o f == f&#39; o h&#39;</span></span></span><br><span><var>q'</var><span class="hyp-type"><b>: </b><span>k&#39; o g == g&#39; o h&#39;</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>h == h&#39;</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>k == k&#39;</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, s (f b) @ p&#39; b = p b @ ap f&#39; (r b)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, s (g b) @ q&#39; b = q b @ ap g&#39; (r b)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((ap (functor_coeq h k p q) (cglue b))^ @
 ap coeq (s (f b))) @
ap (functor_coeq h&#39; k&#39; p&#39; q&#39;) (cglue b) =
ap coeq (s (g b))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk3d" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk3d"><span class="nb">rewrite</span> concat_pp_p; <span class="nb">apply</span> moveR_Vp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>h'</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k'</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p'</var><span class="hyp-type"><b>: </b><span>k&#39; o f == f&#39; o h&#39;</span></span></span><br><span><var>q'</var><span class="hyp-type"><b>: </b><span>k&#39; o g == g&#39; o h&#39;</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>h == h&#39;</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>k == k&#39;</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, s (f b) @ p&#39; b = p b @ ap f&#39; (r b)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, s (g b) @ q&#39; b = q b @ ap g&#39; (r b)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap coeq (s (f b)) @
ap (functor_coeq h&#39; k&#39; p&#39; q&#39;) (cglue b) =
ap (functor_coeq h k p q) (cglue b) @
ap coeq (s (g b))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk3e" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk3e"><span class="nb">rewrite</span> !functor_coeq_beta_cglue.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>h'</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k'</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p'</var><span class="hyp-type"><b>: </b><span>k&#39; o f == f&#39; o h&#39;</span></span></span><br><span><var>q'</var><span class="hyp-type"><b>: </b><span>k&#39; o g == g&#39; o h&#39;</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>h == h&#39;</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>k == k&#39;</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, s (f b) @ p&#39; b = p b @ ap f&#39; (r b)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, s (g b) @ q&#39; b = q b @ ap g&#39; (r b)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap coeq (s (f b)) @
((ap coeq (p&#39; b) @ cglue (h&#39; b)) @ ap coeq (q&#39; b)^) =
((ap coeq (p b) @ cglue (h b)) @ ap coeq (q b)^) @
ap coeq (s (g b))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk3f" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk3f"><span class="kn">Open Scope</span> long_path_scope.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>h'</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k'</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p'</var><span class="hyp-type"><b>: </b><span>k&#39; o f == f&#39; o h&#39;</span></span></span><br><span><var>q'</var><span class="hyp-type"><b>: </b><span>k&#39; o g == g&#39; o h&#39;</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>h == h&#39;</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>k == k&#39;</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, s (f b)
              @&#39; p&#39; b = p b
                        @&#39; ap f&#39; (r b)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, s (g b)
              @&#39; q&#39; b = q b
                        @&#39; ap g&#39; (r b)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap coeq (s (f b))
@&#39; (ap coeq (p&#39; b)
    @&#39; cglue (h&#39; b)
    @&#39; ap coeq (q&#39; b)^) =
ap coeq (p b)
@&#39; cglue (h b)
@&#39; ap coeq (q b)^
@&#39; ap coeq (s (g b))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk40" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk40"><span class="nb">rewrite</span> !concat_p_pp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>h'</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k'</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p'</var><span class="hyp-type"><b>: </b><span>k&#39; o f == f&#39; o h&#39;</span></span></span><br><span><var>q'</var><span class="hyp-type"><b>: </b><span>k&#39; o g == g&#39; o h&#39;</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>h == h&#39;</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>k == k&#39;</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, s (f b)
              @&#39; p&#39; b = p b
                        @&#39; ap f&#39; (r b)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, s (g b)
              @&#39; q&#39; b = q b
                        @&#39; ap g&#39; (r b)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap coeq (s (f b))
@&#39; ap coeq (p&#39; b)
@&#39; cglue (h&#39; b)
@&#39; ap coeq (q&#39; b)^ =
ap coeq (p b)
@&#39; cglue (h b)
@&#39; ap coeq (q b)^
@&#39; ap coeq (s (g b))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk41" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk41"><span class="nb">rewrite</span> &lt;- (ap_pp (@coeq _ _ f&#39; g&#39;) (s (f b)) (p&#39; b)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>h'</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k'</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p'</var><span class="hyp-type"><b>: </b><span>k&#39; o f == f&#39; o h&#39;</span></span></span><br><span><var>q'</var><span class="hyp-type"><b>: </b><span>k&#39; o g == g&#39; o h&#39;</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>h == h&#39;</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>k == k&#39;</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, s (f b)
              @&#39; p&#39; b = p b
                        @&#39; ap f&#39; (r b)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, s (g b)
              @&#39; q&#39; b = q b
                        @&#39; ap g&#39; (r b)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap coeq (s (f b)
         @&#39; p&#39; b)
@&#39; cglue (h&#39; b)
@&#39; ap coeq (q&#39; b)^ =
ap coeq (p b)
@&#39; cglue (h b)
@&#39; ap coeq (q b)^
@&#39; ap coeq (s (g b))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk42" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk42"><span class="nb">rewrite</span> u, ap_pp, !concat_pp_p; <span class="nb">apply</span> whiskerL; <span class="nb">rewrite</span> !concat_p_pp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>h'</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k'</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p'</var><span class="hyp-type"><b>: </b><span>k&#39; o f == f&#39; o h&#39;</span></span></span><br><span><var>q'</var><span class="hyp-type"><b>: </b><span>k&#39; o g == g&#39; o h&#39;</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>h == h&#39;</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>k == k&#39;</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, s (f b)
              @&#39; p&#39; b = p b
                        @&#39; ap f&#39; (r b)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, s (g b)
              @&#39; q&#39; b = q b
                        @&#39; ap g&#39; (r b)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap coeq (ap f&#39; (r b))
@&#39; cglue (h&#39; b)
@&#39; ap coeq (q&#39; b)^ =
cglue (h b)
@&#39; ap coeq (q b)^
@&#39; ap coeq (s (g b))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk43" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk43"><span class="nb">rewrite</span> ap_V; <span class="nb">apply</span> moveR_pV.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>h'</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k'</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p'</var><span class="hyp-type"><b>: </b><span>k&#39; o f == f&#39; o h&#39;</span></span></span><br><span><var>q'</var><span class="hyp-type"><b>: </b><span>k&#39; o g == g&#39; o h&#39;</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>h == h&#39;</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>k == k&#39;</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, s (f b)
              @&#39; p&#39; b = p b
                        @&#39; ap f&#39; (r b)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, s (g b)
              @&#39; q&#39; b = q b
                        @&#39; ap g&#39; (r b)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap coeq (ap f&#39; (r b))
@&#39; cglue (h&#39; b) =
cglue (h b)
@&#39; ap coeq (q b)^
@&#39; ap coeq (s (g b))
@&#39; ap coeq (q&#39; b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk44" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk44"><span class="nb">rewrite</span> !concat_pp_p, &lt;- (ap_pp (@coeq _ _ f&#39; g&#39;) (s (g b)) (q&#39; b)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>h'</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k'</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p'</var><span class="hyp-type"><b>: </b><span>k&#39; o f == f&#39; o h&#39;</span></span></span><br><span><var>q'</var><span class="hyp-type"><b>: </b><span>k&#39; o g == g&#39; o h&#39;</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>h == h&#39;</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>k == k&#39;</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, s (f b)
              @&#39; p&#39; b = p b
                        @&#39; ap f&#39; (r b)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, s (g b)
              @&#39; q&#39; b = q b
                        @&#39; ap g&#39; (r b)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap coeq (ap f&#39; (r b))
@&#39; cglue (h&#39; b) =
cglue (h b)
@&#39; (ap coeq (q b)^
    @&#39; ap coeq (s (g b)
                @&#39; q&#39; b))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk45" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk45"><span class="nb">rewrite</span> v, ap_pp, ap_V, concat_V_pp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>h'</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k'</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p'</var><span class="hyp-type"><b>: </b><span>k&#39; o f == f&#39; o h&#39;</span></span></span><br><span><var>q'</var><span class="hyp-type"><b>: </b><span>k&#39; o g == g&#39; o h&#39;</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>h == h&#39;</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>k == k&#39;</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, s (f b)
              @&#39; p&#39; b = p b
                        @&#39; ap f&#39; (r b)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, s (g b)
              @&#39; q&#39; b = q b
                        @&#39; ap g&#39; (r b)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap coeq (ap f&#39; (r b))
@&#39; cglue (h&#39; b) = cglue (h b)
                  @&#39; ap coeq (ap g&#39; (r b))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk46" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk46"><span class="nb">rewrite</span> &lt;- !ap_compose.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>h'</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k'</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p'</var><span class="hyp-type"><b>: </b><span>k&#39; o f == f&#39; o h&#39;</span></span></span><br><span><var>q'</var><span class="hyp-type"><b>: </b><span>k&#39; o g == g&#39; o h&#39;</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>h == h&#39;</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>k == k&#39;</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, s (f b)
              @&#39; p&#39; b = p b
                        @&#39; ap f&#39; (r b)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, s (g b)
              @&#39; q&#39; b = q b
                        @&#39; ap g&#39; (r b)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; coeq (f&#39; x)) (r b)
@&#39; cglue (h&#39; b) =
cglue (h b)
@&#39; ap (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; coeq (g&#39; x)) (r b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (concat_Ap (@cglue _ _ f&#39; g&#39;) (r b)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Close Scope</span> long_path_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk47" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk47"><span class="kn">Definition</span> <span class="nf">functor_coeq_sect</span> {<span class="nv">B</span> <span class="nv">A</span> <span class="nv">f</span> <span class="nv">g</span> <span class="nv">B&#39;</span> <span class="nv">A&#39;</span> <span class="nv">f&#39;</span> <span class="nv">g&#39;</span>}
           (<span class="nv">h</span> : B -&gt; B&#39;) (<span class="nv">k</span> : A -&gt; A&#39;)
           (<span class="nv">p</span> : k o f == f&#39; o h) (<span class="nv">q</span> : k o g == g&#39; o h)
           (<span class="nv">h&#39;</span> : B&#39; -&gt; B) (<span class="nv">k&#39;</span> : A&#39; -&gt; A)
           (<span class="nv">p&#39;</span> : k&#39; o f&#39; == f o h&#39;) (<span class="nv">q&#39;</span> : k&#39; o g&#39; == g o h&#39;)
           (<span class="nv">r</span> : h&#39; o h == idmap) (<span class="nv">s</span> : k&#39; o k == idmap)
           (<span class="nv">u</span> : <span class="kr">forall</span> <span class="nv">b</span>, ap k&#39; (p b) @ p&#39; (h b) @ ap f (r b) = s (f b))
           (<span class="nv">v</span> : <span class="kr">forall</span> <span class="nv">b</span>, ap k&#39; (q b) @ q&#39; (h b) @ ap g (r b) = s (g b))
: (functor_coeq h&#39; k&#39; p&#39; q&#39;) o (functor_coeq h k p q) == idmap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>h'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; B</span></span></span><br><span><var>k'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; A</span></span></span><br><span><var>p'</var><span class="hyp-type"><b>: </b><span>k&#39; o f&#39; == f o h&#39;</span></span></span><br><span><var>q'</var><span class="hyp-type"><b>: </b><span>k&#39; o g&#39; == g o h&#39;</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>h&#39; o h == idmap</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>k&#39; o k == idmap</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B,
(ap k&#39; (p b) @ p&#39; (h b)) @ ap f (r b) = s (f b)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B,
(ap k&#39; (q b) @ q&#39; (h b)) @ ap g (r b) = s (g b)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">functor_coeq h&#39; k&#39; p&#39; q&#39; o functor_coeq h k p q ==
idmap</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk48" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk48"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>h'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; B</span></span></span><br><span><var>k'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; A</span></span></span><br><span><var>p'</var><span class="hyp-type"><b>: </b><span>k&#39; o f&#39; == f o h&#39;</span></span></span><br><span><var>q'</var><span class="hyp-type"><b>: </b><span>k&#39; o g&#39; == g o h&#39;</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>h&#39; o h == idmap</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>k&#39; o k == idmap</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B,
(ap k&#39; (p b) @ p&#39; (h b)) @ ap f (r b) = s (f b)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B,
(ap k&#39; (q b) @ q&#39; (h b)) @ ap g (r b) = s (g b)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">functor_coeq h&#39; k&#39; p&#39; q&#39; o functor_coeq h k p q ==
idmap</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk49" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk49"><span class="nb">refine</span> (Coeq_ind _ (<span class="kr">fun</span> <span class="nv">a</span> =&gt; ap coeq (s a)) _); <span class="nb">cbn</span>; <span class="nb">intros</span> b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>h'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; B</span></span></span><br><span><var>k'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; A</span></span></span><br><span><var>p'</var><span class="hyp-type"><b>: </b><span>k&#39; o f&#39; == f o h&#39;</span></span></span><br><span><var>q'</var><span class="hyp-type"><b>: </b><span>k&#39; o g&#39; == g o h&#39;</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>h&#39; o h == idmap</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>k&#39; o k == idmap</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B,
(ap k&#39; (p b) @ p&#39; (h b)) @ ap f (r b) = s (f b)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B,
(ap k&#39; (q b) @ q&#39; (h b)) @ ap g (r b) = s (g b)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport
  (<span class="kr">fun</span> <span class="nv">w</span> : Coeq f g =&gt;
   functor_coeq h&#39; k&#39; p&#39; q&#39; (functor_coeq h k p q w) =
   w) (cglue b) (ap coeq (s (f b))) =
ap coeq (s (g b))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk4a" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk4a"><span class="nb">refine</span> (transport_paths_FFlr (cglue b) _ @ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>h'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; B</span></span></span><br><span><var>k'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; A</span></span></span><br><span><var>p'</var><span class="hyp-type"><b>: </b><span>k&#39; o f&#39; == f o h&#39;</span></span></span><br><span><var>q'</var><span class="hyp-type"><b>: </b><span>k&#39; o g&#39; == g o h&#39;</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>h&#39; o h == idmap</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>k&#39; o k == idmap</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B,
(ap k&#39; (p b) @ p&#39; (h b)) @ ap f (r b) = s (f b)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B,
(ap k&#39; (q b) @ q&#39; (h b)) @ ap g (r b) = s (g b)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((ap (functor_coeq h&#39; k&#39; p&#39; q&#39;)
    (ap (functor_coeq h k p q) (cglue b)))^ @
 ap coeq (s (f b))) @ cglue b = ap coeq (s (g b))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk4b" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk4b"><span class="nb">rewrite</span> concat_pp_p; <span class="nb">apply</span> moveR_Vp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>h'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; B</span></span></span><br><span><var>k'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; A</span></span></span><br><span><var>p'</var><span class="hyp-type"><b>: </b><span>k&#39; o f&#39; == f o h&#39;</span></span></span><br><span><var>q'</var><span class="hyp-type"><b>: </b><span>k&#39; o g&#39; == g o h&#39;</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>h&#39; o h == idmap</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>k&#39; o k == idmap</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B,
(ap k&#39; (p b) @ p&#39; (h b)) @ ap f (r b) = s (f b)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B,
(ap k&#39; (q b) @ q&#39; (h b)) @ ap g (r b) = s (g b)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap coeq (s (f b)) @ cglue b =
ap (functor_coeq h&#39; k&#39; p&#39; q&#39;)
  (ap (functor_coeq h k p q) (cglue b)) @
ap coeq (s (g b))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk4c" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk4c"><span class="nb">rewrite</span> functor_coeq_beta_cglue, !ap_pp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>h'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; B</span></span></span><br><span><var>k'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; A</span></span></span><br><span><var>p'</var><span class="hyp-type"><b>: </b><span>k&#39; o f&#39; == f o h&#39;</span></span></span><br><span><var>q'</var><span class="hyp-type"><b>: </b><span>k&#39; o g&#39; == g o h&#39;</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>h&#39; o h == idmap</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>k&#39; o k == idmap</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B,
(ap k&#39; (p b) @ p&#39; (h b)) @ ap f (r b) = s (f b)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B,
(ap k&#39; (q b) @ q&#39; (h b)) @ ap g (r b) = s (g b)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap coeq (s (f b)) @ cglue b =
((ap (functor_coeq h&#39; k&#39; p&#39; q&#39;) (ap coeq (p b)) @
  ap (functor_coeq h&#39; k&#39; p&#39; q&#39;) (cglue (h b))) @
 ap (functor_coeq h&#39; k&#39; p&#39; q&#39;) (ap coeq (q b)^)) @
ap coeq (s (g b))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk4d" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk4d"><span class="nb">rewrite</span> &lt;- !ap_compose; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>h'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; B</span></span></span><br><span><var>k'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; A</span></span></span><br><span><var>p'</var><span class="hyp-type"><b>: </b><span>k&#39; o f&#39; == f o h&#39;</span></span></span><br><span><var>q'</var><span class="hyp-type"><b>: </b><span>k&#39; o g&#39; == g o h&#39;</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>h&#39; o h == idmap</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>k&#39; o k == idmap</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B,
(ap k&#39; (p b) @ p&#39; (h b)) @ ap f (r b) = s (f b)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B,
(ap k&#39; (q b) @ q&#39; (h b)) @ ap g (r b) = s (g b)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap coeq (s (f b)) @ cglue b =
((ap (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; functor_coeq h&#39; k&#39; p&#39; q&#39; (coeq x))
    (p b) @
  ap (functor_coeq h&#39; k&#39; p&#39; q&#39;) (cglue (h b))) @
 ap (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; functor_coeq h&#39; k&#39; p&#39; q&#39; (coeq x))
   (q b)^) @ ap coeq (s (g b))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk4e" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk4e"><span class="nb">rewrite</span> functor_coeq_beta_cglue.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>h'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; B</span></span></span><br><span><var>k'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; A</span></span></span><br><span><var>p'</var><span class="hyp-type"><b>: </b><span>k&#39; o f&#39; == f o h&#39;</span></span></span><br><span><var>q'</var><span class="hyp-type"><b>: </b><span>k&#39; o g&#39; == g o h&#39;</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>h&#39; o h == idmap</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>k&#39; o k == idmap</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B,
(ap k&#39; (p b) @ p&#39; (h b)) @ ap f (r b) = s (f b)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B,
(ap k&#39; (q b) @ q&#39; (h b)) @ ap g (r b) = s (g b)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap coeq (s (f b)) @ cglue b =
((ap (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; functor_coeq h&#39; k&#39; p&#39; q&#39; (coeq x))
    (p b) @
  ((ap coeq (p&#39; (h b)) @ cglue (h&#39; (h b))) @
   ap coeq (q&#39; (h b))^)) @
 ap (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; functor_coeq h&#39; k&#39; p&#39; q&#39; (coeq x))
   (q b)^) @ ap coeq (s (g b))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk4f" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk4f"><span class="kn">Open Scope</span> long_path_scope.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>h'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; B</span></span></span><br><span><var>k'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; A</span></span></span><br><span><var>p'</var><span class="hyp-type"><b>: </b><span>k&#39; o f&#39; == f o h&#39;</span></span></span><br><span><var>q'</var><span class="hyp-type"><b>: </b><span>k&#39; o g&#39; == g o h&#39;</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>h&#39; o h == idmap</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>k&#39; o k == idmap</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B,
ap k&#39; (p b)
@&#39; p&#39; (h b)
@&#39; ap f (r b) = s (f b)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B,
ap k&#39; (q b)
@&#39; q&#39; (h b)
@&#39; ap g (r b) = s (g b)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap coeq (s (f b))
@&#39; cglue b =
ap (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; functor_coeq h&#39; k&#39; p&#39; q&#39; (coeq x))
  (p b)
@&#39; (ap coeq (p&#39; (h b))
    @&#39; cglue (h&#39; (h b))
    @&#39; ap coeq (q&#39; (h b))^)
@&#39; ap
     (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; functor_coeq h&#39; k&#39; p&#39; q&#39; (coeq x))
     (q b)^
@&#39; ap coeq (s (g b))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk50" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk50"><span class="nb">rewrite</span> !concat_p_pp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>h'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; B</span></span></span><br><span><var>k'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; A</span></span></span><br><span><var>p'</var><span class="hyp-type"><b>: </b><span>k&#39; o f&#39; == f o h&#39;</span></span></span><br><span><var>q'</var><span class="hyp-type"><b>: </b><span>k&#39; o g&#39; == g o h&#39;</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>h&#39; o h == idmap</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>k&#39; o k == idmap</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B,
ap k&#39; (p b)
@&#39; p&#39; (h b)
@&#39; ap f (r b) = s (f b)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B,
ap k&#39; (q b)
@&#39; q&#39; (h b)
@&#39; ap g (r b) = s (g b)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap coeq (s (f b))
@&#39; cglue b =
ap (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; functor_coeq h&#39; k&#39; p&#39; q&#39; (coeq x))
  (p b)
@&#39; ap coeq (p&#39; (h b))
@&#39; cglue (h&#39; (h b))
@&#39; ap coeq (q&#39; (h b))^
@&#39; ap
     (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; functor_coeq h&#39; k&#39; p&#39; q&#39; (coeq x))
     (q b)^
@&#39; ap coeq (s (g b))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk51" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk51"><span class="nb">rewrite</span> &lt;- u, !ap_pp, !(ap_compose k&#39; coeq).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>h'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; B</span></span></span><br><span><var>k'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; A</span></span></span><br><span><var>p'</var><span class="hyp-type"><b>: </b><span>k&#39; o f&#39; == f o h&#39;</span></span></span><br><span><var>q'</var><span class="hyp-type"><b>: </b><span>k&#39; o g&#39; == g o h&#39;</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>h&#39; o h == idmap</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>k&#39; o k == idmap</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B,
ap k&#39; (p b)
@&#39; p&#39; (h b)
@&#39; ap f (r b) = s (f b)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B,
ap k&#39; (q b)
@&#39; q&#39; (h b)
@&#39; ap g (r b) = s (g b)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap coeq (ap k&#39; (p b))
@&#39; ap coeq (p&#39; (h b))
@&#39; ap coeq (ap f (r b))
@&#39; cglue b =
ap coeq (ap k&#39; (p b))
@&#39; ap coeq (p&#39; (h b))
@&#39; cglue (h&#39; (h b))
@&#39; ap coeq (q&#39; (h b))^
@&#39; ap coeq (ap k&#39; (q b)^)
@&#39; ap coeq (s (g b))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk52" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk52"><span class="nb">rewrite</span> !concat_pp_p; <span class="kp">do</span> <span class="mi">2</span> <span class="nb">apply</span> whiskerL.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>h'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; B</span></span></span><br><span><var>k'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; A</span></span></span><br><span><var>p'</var><span class="hyp-type"><b>: </b><span>k&#39; o f&#39; == f o h&#39;</span></span></span><br><span><var>q'</var><span class="hyp-type"><b>: </b><span>k&#39; o g&#39; == g o h&#39;</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>h&#39; o h == idmap</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>k&#39; o k == idmap</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B,
ap k&#39; (p b)
@&#39; p&#39; (h b)
@&#39; ap f (r b) = s (f b)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B,
ap k&#39; (q b)
@&#39; q&#39; (h b)
@&#39; ap g (r b) = s (g b)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap coeq (ap f (r b))
@&#39; cglue b =
cglue (h&#39; (h b))
@&#39; (ap coeq (q&#39; (h b))^
    @&#39; (ap coeq (ap k&#39; (q b)^)
        @&#39; ap coeq (s (g b))))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk53" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk53"><span class="nb">rewrite</span> !concat_p_pp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>h'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; B</span></span></span><br><span><var>k'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; A</span></span></span><br><span><var>p'</var><span class="hyp-type"><b>: </b><span>k&#39; o f&#39; == f o h&#39;</span></span></span><br><span><var>q'</var><span class="hyp-type"><b>: </b><span>k&#39; o g&#39; == g o h&#39;</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>h&#39; o h == idmap</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>k&#39; o k == idmap</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B,
ap k&#39; (p b)
@&#39; p&#39; (h b)
@&#39; ap f (r b) = s (f b)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B,
ap k&#39; (q b)
@&#39; q&#39; (h b)
@&#39; ap g (r b) = s (g b)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap coeq (ap f (r b))
@&#39; cglue b =
cglue (h&#39; (h b))
@&#39; ap coeq (q&#39; (h b))^
@&#39; ap coeq (ap k&#39; (q b)^)
@&#39; ap coeq (s (g b))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk54" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk54"><span class="nb">rewrite</span> &lt;- v.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>h'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; B</span></span></span><br><span><var>k'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; A</span></span></span><br><span><var>p'</var><span class="hyp-type"><b>: </b><span>k&#39; o f&#39; == f o h&#39;</span></span></span><br><span><var>q'</var><span class="hyp-type"><b>: </b><span>k&#39; o g&#39; == g o h&#39;</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>h&#39; o h == idmap</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>k&#39; o k == idmap</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B,
ap k&#39; (p b)
@&#39; p&#39; (h b)
@&#39; ap f (r b) = s (f b)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B,
ap k&#39; (q b)
@&#39; q&#39; (h b)
@&#39; ap g (r b) = s (g b)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap coeq (ap f (r b))
@&#39; cglue b =
cglue (h&#39; (h b))
@&#39; ap coeq (q&#39; (h b))^
@&#39; ap coeq (ap k&#39; (q b)^)
@&#39; ap coeq (ap k&#39; (q b)
            @&#39; q&#39; (h b)
            @&#39; ap g (r b))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk55" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk55"><span class="nb">rewrite</span> !ap_pp, !ap_V, !concat_p_pp, !concat_pV_p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>h'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; B</span></span></span><br><span><var>k'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; A</span></span></span><br><span><var>p'</var><span class="hyp-type"><b>: </b><span>k&#39; o f&#39; == f o h&#39;</span></span></span><br><span><var>q'</var><span class="hyp-type"><b>: </b><span>k&#39; o g&#39; == g o h&#39;</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>h&#39; o h == idmap</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>k&#39; o k == idmap</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B,
ap k&#39; (p b)
@&#39; p&#39; (h b)
@&#39; ap f (r b) = s (f b)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B,
ap k&#39; (q b)
@&#39; q&#39; (h b)
@&#39; ap g (r b) = s (g b)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap coeq (ap f (r b))
@&#39; cglue b = cglue (h&#39; (h b))
             @&#39; ap coeq (ap g (r b))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk56" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk56"><span class="nb">rewrite</span> &lt;- !ap_compose.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>h'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; B</span></span></span><br><span><var>k'</var><span class="hyp-type"><b>: </b><span>A&#39; -&gt; A</span></span></span><br><span><var>p'</var><span class="hyp-type"><b>: </b><span>k&#39; o f&#39; == f o h&#39;</span></span></span><br><span><var>q'</var><span class="hyp-type"><b>: </b><span>k&#39; o g&#39; == g o h&#39;</span></span></span><br><span><var>r</var><span class="hyp-type"><b>: </b><span>h&#39; o h == idmap</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>k&#39; o k == idmap</span></span></span><br><span><var>u</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B,
ap k&#39; (p b)
@&#39; p&#39; (h b)
@&#39; ap f (r b) = s (f b)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B,
ap k&#39; (q b)
@&#39; q&#39; (h b)
@&#39; ap g (r b) = s (g b)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap (<span class="kr">fun</span> <span class="nv">x</span> : B =&gt; coeq (f x)) (r b)
@&#39; cglue b =
cglue (h&#39; (h b))
@&#39; ap (<span class="kr">fun</span> <span class="nv">x</span> : B =&gt; coeq (g x)) (r b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (concat_Ap cglue (r b)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Close Scope</span> long_path_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">IsEquivFunctorCoeq</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">B</span> <span class="nv">A</span> <span class="nv">f</span> <span class="nv">g</span> <span class="nv">B&#39;</span> <span class="nv">A&#39;</span> <span class="nv">f&#39;</span> <span class="nv">g&#39;</span>}
          (<span class="nv">h</span> : B -&gt; B&#39;) (<span class="nv">k</span> : A -&gt; A&#39;)
          `{IsEquiv _ _ h} `{IsEquiv _ _ k}
          (p : k o f == f&#39; o h) (q : k o g == g&#39; o h).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk57" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk57"><span class="kn">Definition</span> <span class="nf">functor_coeq_inverse</span>
  : @Coeq B&#39; A&#39; f&#39; g&#39; -&gt; @Coeq B A f g.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv h</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEquiv k</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Coeq f&#39; g&#39; -&gt; Coeq f g</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk58" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk58"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv h</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEquiv k</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Coeq f&#39; g&#39; -&gt; Coeq f g</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk59" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk59"><span class="nb">refine</span> (functor_coeq h^-<span class="mi">1</span> k^-<span class="mi">1</span> _ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv h</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEquiv k</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; k^-<span class="mi">1</span> (f&#39; x)) ==
(<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; f (h^-<span class="mi">1</span> x))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="coeq-v-chk5a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv h</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEquiv k</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br></div><label class="goal-separator" for="coeq-v-chk5a"><hr></label><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; k^-<span class="mi">1</span> (g&#39; x)) ==
(<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; g (h^-<span class="mi">1</span> x))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk5b" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk5b">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv h</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEquiv k</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; k^-<span class="mi">1</span> (f&#39; x)) ==
(<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; f (h^-<span class="mi">1</span> x))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk5c" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk5c"><span class="nb">intros</span> b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv h</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEquiv k</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">k^-<span class="mi">1</span> (f&#39; b) = f (h^-<span class="mi">1</span> b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk5d" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk5d"><span class="nb">refine</span> (ap (k^-<span class="mi">1</span> o f&#39;) (eisretr h b)^ @ _ @ eissect k (f (h^-<span class="mi">1</span> b))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv h</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEquiv k</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">k^-<span class="mi">1</span> (f&#39; (h (h^-<span class="mi">1</span> b))) = k^-<span class="mi">1</span> (k (f (h^-<span class="mi">1</span> b)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> ap, inverse, p.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk5e" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk5e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv h</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEquiv k</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; k^-<span class="mi">1</span> (g&#39; x)) ==
(<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; g (h^-<span class="mi">1</span> x))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk5f" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk5f"><span class="nb">intros</span> b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv h</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEquiv k</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">k^-<span class="mi">1</span> (g&#39; b) = g (h^-<span class="mi">1</span> b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk60" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk60"><span class="nb">refine</span> (ap (k^-<span class="mi">1</span> o g&#39;) (eisretr h b)^ @ _ @ eissect k (g (h^-<span class="mi">1</span> b))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv h</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEquiv k</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">k^-<span class="mi">1</span> (g&#39; (h (h^-<span class="mi">1</span> b))) = k^-<span class="mi">1</span> (k (g (h^-<span class="mi">1</span> b)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> ap, inverse, q.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk61" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk61"><span class="kn">Definition</span> <span class="nf">functor_coeq_eissect</span>
  : (functor_coeq h k p q) o functor_coeq_inverse == idmap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv h</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEquiv k</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">functor_coeq h k p q o functor_coeq_inverse == idmap</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk62" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk62"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv h</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEquiv k</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">functor_coeq h k p q o functor_coeq_inverse == idmap</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk63" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk63"><span class="kn">Open Scope</span> long_path_scope.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv h</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEquiv k</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">functor_coeq h k p q o functor_coeq_inverse == idmap</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk64" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk64"><span class="nb">refine</span> (functor_coeq_sect _ _ _ _ _ _ _ _
                              (eisretr h) (eisretr k) _ _); <span class="nb">intros</span> b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv h</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEquiv k</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap k
  (ap (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; k^-<span class="mi">1</span> (f&#39; x)) (eisretr h b)^
   @&#39; ap k^-<span class="mi">1</span> (p (h^-<span class="mi">1</span> b))^
   @&#39; eissect k (f (h^-<span class="mi">1</span> b)))
@&#39; p (h^-<span class="mi">1</span> b)
@&#39; ap f&#39; (eisretr h b) = eisretr k (f&#39; b)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="coeq-v-chk65" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv h</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEquiv k</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B&#39;</span></span></span><br></div><label class="goal-separator" for="coeq-v-chk65"><hr></label><div class="goal-conclusion">ap k
  (ap (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; k^-<span class="mi">1</span> (g&#39; x)) (eisretr h b)^
   @&#39; ap k^-<span class="mi">1</span> (q (h^-<span class="mi">1</span> b))^
   @&#39; eissect k (g (h^-<span class="mi">1</span> b)))
@&#39; q (h^-<span class="mi">1</span> b)
@&#39; ap g&#39; (eisretr h b) = eisretr k (g&#39; b)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    <span class="sd">(** The two proofs are identical modulo replacing [f] by [g], [f&#39;] by [g&#39;], and [p] by [q]. *)</span>
</span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk66" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk66"><span class="kp">all</span>:<span class="nb">rewrite</span> !ap_pp, &lt;- eisadj.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv h</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEquiv k</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap k (ap (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; k^-<span class="mi">1</span> (f&#39; x)) (eisretr h b)^)
@&#39; ap k (ap k^-<span class="mi">1</span> (p (h^-<span class="mi">1</span> b))^)
@&#39; eisretr k (k (f (h^-<span class="mi">1</span> b)))
@&#39; p (h^-<span class="mi">1</span> b)
@&#39; ap f&#39; (eisretr h b) = eisretr k (f&#39; b)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="coeq-v-chk67" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv h</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEquiv k</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B&#39;</span></span></span><br></div><label class="goal-separator" for="coeq-v-chk67"><hr></label><div class="goal-conclusion">ap k (ap (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; k^-<span class="mi">1</span> (g&#39; x)) (eisretr h b)^)
@&#39; ap k (ap k^-<span class="mi">1</span> (q (h^-<span class="mi">1</span> b))^)
@&#39; eisretr k (k (g (h^-<span class="mi">1</span> b)))
@&#39; q (h^-<span class="mi">1</span> b)
@&#39; ap g&#39; (eisretr h b) = eisretr k (g&#39; b)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk68" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk68"><span class="kp">all</span>:<span class="nb">rewrite</span> &lt;- !ap_compose.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv h</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEquiv k</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap k (ap (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; k^-<span class="mi">1</span> (f&#39; x)) (eisretr h b)^)
@&#39; ap (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; k (k^-<span class="mi">1</span> x)) (p (h^-<span class="mi">1</span> b))^
@&#39; eisretr k (k (f (h^-<span class="mi">1</span> b)))
@&#39; p (h^-<span class="mi">1</span> b)
@&#39; ap f&#39; (eisretr h b) = eisretr k (f&#39; b)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="coeq-v-chk69" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv h</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEquiv k</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B&#39;</span></span></span><br></div><label class="goal-separator" for="coeq-v-chk69"><hr></label><div class="goal-conclusion">ap k (ap (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; k^-<span class="mi">1</span> (g&#39; x)) (eisretr h b)^)
@&#39; ap (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; k (k^-<span class="mi">1</span> x)) (q (h^-<span class="mi">1</span> b))^
@&#39; eisretr k (k (g (h^-<span class="mi">1</span> b)))
@&#39; q (h^-<span class="mi">1</span> b)
@&#39; ap g&#39; (eisretr h b) = eisretr k (g&#39; b)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk6a" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk6a"><span class="kp">all</span>:<span class="nb">rewrite</span> (concat_pA1_p (eisretr k) _ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv h</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEquiv k</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap k (ap (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; k^-<span class="mi">1</span> (f&#39; x)) (eisretr h b)^)
@&#39; eisretr k (f&#39; (h (h^-<span class="mi">1</span> b)))
@&#39; (p (h^-<span class="mi">1</span> b))^
@&#39; p (h^-<span class="mi">1</span> b)
@&#39; ap f&#39; (eisretr h b) = eisretr k (f&#39; b)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="coeq-v-chk6b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv h</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEquiv k</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B&#39;</span></span></span><br></div><label class="goal-separator" for="coeq-v-chk6b"><hr></label><div class="goal-conclusion">ap k (ap (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; k^-<span class="mi">1</span> (g&#39; x)) (eisretr h b)^)
@&#39; eisretr k (g&#39; (h (h^-<span class="mi">1</span> b)))
@&#39; (q (h^-<span class="mi">1</span> b))^
@&#39; q (h^-<span class="mi">1</span> b)
@&#39; ap g&#39; (eisretr h b) = eisretr k (g&#39; b)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk6c" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk6c"><span class="kp">all</span>:<span class="nb">rewrite</span> concat_pV_p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv h</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEquiv k</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap k (ap (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; k^-<span class="mi">1</span> (f&#39; x)) (eisretr h b)^)
@&#39; eisretr k (f&#39; (h (h^-<span class="mi">1</span> b)))
@&#39; ap f&#39; (eisretr h b) = eisretr k (f&#39; b)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="coeq-v-chk6d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv h</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEquiv k</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B&#39;</span></span></span><br></div><label class="goal-separator" for="coeq-v-chk6d"><hr></label><div class="goal-conclusion">ap k (ap (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; k^-<span class="mi">1</span> (g&#39; x)) (eisretr h b)^)
@&#39; eisretr k (g&#39; (h (h^-<span class="mi">1</span> b)))
@&#39; ap g&#39; (eisretr h b) = eisretr k (g&#39; b)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk6e" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk6e"><span class="kp">all</span>:<span class="nb">rewrite</span> &lt;- (ap_compose (k^-<span class="mi">1</span> o _) k).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv h</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEquiv k</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; k (k^-<span class="mi">1</span> (f&#39; x))) (eisretr h b)^
@&#39; eisretr k (f&#39; (h (h^-<span class="mi">1</span> b)))
@&#39; ap f&#39; (eisretr h b) = eisretr k (f&#39; b)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="coeq-v-chk6f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv h</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEquiv k</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B&#39;</span></span></span><br></div><label class="goal-separator" for="coeq-v-chk6f"><hr></label><div class="goal-conclusion">ap (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; k (k^-<span class="mi">1</span> (g&#39; x))) (eisretr h b)^
@&#39; eisretr k (g&#39; (h (h^-<span class="mi">1</span> b)))
@&#39; ap g&#39; (eisretr h b) = eisretr k (g&#39; b)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk70" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk70"><span class="kp">all</span>:<span class="nb">rewrite</span> (ap_compose _ (k o k^-<span class="mi">1</span>)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv h</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEquiv k</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; k (k^-<span class="mi">1</span> x)) (ap f&#39; (eisretr h b)^)
@&#39; eisretr k (f&#39; (h (h^-<span class="mi">1</span> b)))
@&#39; ap f&#39; (eisretr h b) = eisretr k (f&#39; b)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="coeq-v-chk71" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv h</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEquiv k</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B&#39;</span></span></span><br></div><label class="goal-separator" for="coeq-v-chk71"><hr></label><div class="goal-conclusion">ap (<span class="kr">fun</span> <span class="nv">x</span> : A&#39; =&gt; k (k^-<span class="mi">1</span> x)) (ap g&#39; (eisretr h b)^)
@&#39; eisretr k (g&#39; (h (h^-<span class="mi">1</span> b)))
@&#39; ap g&#39; (eisretr h b) = eisretr k (g&#39; b)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk72" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk72"><span class="kp">all</span>:<span class="nb">rewrite</span> (concat_A1p (eisretr k) (ap _ (eisretr h b)^)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv h</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEquiv k</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">eisretr k (f&#39; b)
@&#39; ap f&#39; (eisretr h b)^
@&#39; ap f&#39; (eisretr h b) = eisretr k (f&#39; b)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="coeq-v-chk73" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv h</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEquiv k</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B&#39;</span></span></span><br></div><label class="goal-separator" for="coeq-v-chk73"><hr></label><div class="goal-conclusion">eisretr k (g&#39; b)
@&#39; ap g&#39; (eisretr h b)^
@&#39; ap g&#39; (eisretr h b) = eisretr k (g&#39; b)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kp">all</span>:<span class="nb">rewrite</span> ap_V, concat_pV_p; <span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Close Scope</span> long_path_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk74" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk74"><span class="kn">Definition</span> <span class="nf">functor_coeq_eisretr</span>
  : functor_coeq_inverse o (functor_coeq h k p q) == idmap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv h</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEquiv k</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">functor_coeq_inverse o functor_coeq h k p q == idmap</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk75" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk75"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv h</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEquiv k</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">functor_coeq_inverse o functor_coeq h k p q == idmap</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk76" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk76"><span class="kn">Open Scope</span> long_path_scope.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv h</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEquiv k</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">functor_coeq_inverse o functor_coeq h k p q == idmap</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk77" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk77"><span class="nb">refine</span> (functor_coeq_sect _ _ _ _ _ _ _ _
                              (eissect h) (eissect k) _ _); <span class="nb">intros</span> b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv h</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEquiv k</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap k^-<span class="mi">1</span> (p b)
@&#39; (ap (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; k^-<span class="mi">1</span> (f&#39; x)) (eisretr h (h b))^
    @&#39; ap k^-<span class="mi">1</span> (p (h^-<span class="mi">1</span> (h b)))^
    @&#39; eissect k (f (h^-<span class="mi">1</span> (h b))))
@&#39; ap f (eissect h b) = eissect k (f b)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="coeq-v-chk78" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv h</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEquiv k</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><label class="goal-separator" for="coeq-v-chk78"><hr></label><div class="goal-conclusion">ap k^-<span class="mi">1</span> (q b)
@&#39; (ap (<span class="kr">fun</span> <span class="nv">x</span> : B&#39; =&gt; k^-<span class="mi">1</span> (g&#39; x)) (eisretr h (h b))^
    @&#39; ap k^-<span class="mi">1</span> (q (h^-<span class="mi">1</span> (h b)))^
    @&#39; eissect k (g (h^-<span class="mi">1</span> (h b))))
@&#39; ap g (eissect h b) = eissect k (g b)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk79" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk79"><span class="kp">all</span>:<span class="nb">rewrite</span> !concat_p_pp, eisadj, &lt;- ap_V, &lt;- !ap_compose.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv h</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEquiv k</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap k^-<span class="mi">1</span> (p b)
@&#39; ap (<span class="kr">fun</span> <span class="nv">x</span> : B =&gt; k^-<span class="mi">1</span> (f&#39; (h x))) (eissect h b)^
@&#39; ap k^-<span class="mi">1</span> (p (h^-<span class="mi">1</span> (h b)))^
@&#39; eissect k (f (h^-<span class="mi">1</span> (h b)))
@&#39; ap f (eissect h b) = eissect k (f b)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="coeq-v-chk7a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv h</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEquiv k</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><label class="goal-separator" for="coeq-v-chk7a"><hr></label><div class="goal-conclusion">ap k^-<span class="mi">1</span> (q b)
@&#39; ap (<span class="kr">fun</span> <span class="nv">x</span> : B =&gt; k^-<span class="mi">1</span> (g&#39; (h x))) (eissect h b)^
@&#39; ap k^-<span class="mi">1</span> (q (h^-<span class="mi">1</span> (h b)))^
@&#39; eissect k (g (h^-<span class="mi">1</span> (h b)))
@&#39; ap g (eissect h b) = eissect k (g b)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk7b" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk7b"><span class="kp">all</span>:<span class="nb">rewrite</span> (ap_compose (_ o h) k^-<span class="mi">1</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv h</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEquiv k</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap k^-<span class="mi">1</span> (p b)
@&#39; ap k^-<span class="mi">1</span> (ap (<span class="kr">fun</span> <span class="nv">x</span> : B =&gt; f&#39; (h x)) (eissect h b)^)
@&#39; ap k^-<span class="mi">1</span> (p (h^-<span class="mi">1</span> (h b)))^
@&#39; eissect k (f (h^-<span class="mi">1</span> (h b)))
@&#39; ap f (eissect h b) = eissect k (f b)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="coeq-v-chk7c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv h</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEquiv k</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><label class="goal-separator" for="coeq-v-chk7c"><hr></label><div class="goal-conclusion">ap k^-<span class="mi">1</span> (q b)
@&#39; ap k^-<span class="mi">1</span> (ap (<span class="kr">fun</span> <span class="nv">x</span> : B =&gt; g&#39; (h x)) (eissect h b)^)
@&#39; ap k^-<span class="mi">1</span> (q (h^-<span class="mi">1</span> (h b)))^
@&#39; eissect k (g (h^-<span class="mi">1</span> (h b)))
@&#39; ap g (eissect h b) = eissect k (g b)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk7d" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk7d"><span class="kp">all</span>:<span class="nb">rewrite</span> &lt;- !(ap_pp k^-<span class="mi">1</span>), !concat_pp_p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv h</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEquiv k</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap k^-<span class="mi">1</span>
  (p b
   @&#39; (ap (<span class="kr">fun</span> <span class="nv">x</span> : B =&gt; f&#39; (h x)) (eissect h b)^
       @&#39; (p (h^-<span class="mi">1</span> (h b)))^))
@&#39; (eissect k (f (h^-<span class="mi">1</span> (h b)))
    @&#39; ap f (eissect h b)) = eissect k (f b)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="coeq-v-chk7e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv h</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEquiv k</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><label class="goal-separator" for="coeq-v-chk7e"><hr></label><div class="goal-conclusion">ap k^-<span class="mi">1</span>
  (q b
   @&#39; (ap (<span class="kr">fun</span> <span class="nv">x</span> : B =&gt; g&#39; (h x)) (eissect h b)^
       @&#39; (q (h^-<span class="mi">1</span> (h b)))^))
@&#39; (eissect k (g (h^-<span class="mi">1</span> (h b)))
    @&#39; ap g (eissect h b)) = eissect k (g b)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk7f" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk7f"><span class="mi">1</span>:<span class="nb">rewrite</span> (concat_Ap (<span class="kr">fun</span> <span class="nv">b</span> =&gt; (p b)^) (eissect h b)^).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv h</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEquiv k</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap k^-<span class="mi">1</span>
  (p b
   @&#39; ((p b)^
       @&#39; ap (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; k (f b)) (eissect h b)^))
@&#39; (eissect k (f (h^-<span class="mi">1</span> (h b)))
    @&#39; ap f (eissect h b)) = eissect k (f b)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="coeq-v-chk80" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv h</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEquiv k</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><label class="goal-separator" for="coeq-v-chk80"><hr></label><div class="goal-conclusion">ap k^-<span class="mi">1</span>
  (q b
   @&#39; (ap (<span class="kr">fun</span> <span class="nv">x</span> : B =&gt; g&#39; (h x)) (eissect h b)^
       @&#39; (q (h^-<span class="mi">1</span> (h b)))^))
@&#39; (eissect k (g (h^-<span class="mi">1</span> (h b)))
    @&#39; ap g (eissect h b)) = eissect k (g b)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk81" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk81"><span class="mi">2</span>:<span class="nb">rewrite</span> (concat_Ap (<span class="kr">fun</span> <span class="nv">b</span> =&gt; (q b)^) (eissect h b)^).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv h</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEquiv k</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap k^-<span class="mi">1</span>
  (p b
   @&#39; ((p b)^
       @&#39; ap (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; k (f b)) (eissect h b)^))
@&#39; (eissect k (f (h^-<span class="mi">1</span> (h b)))
    @&#39; ap f (eissect h b)) = eissect k (f b)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="coeq-v-chk82" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv h</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEquiv k</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><label class="goal-separator" for="coeq-v-chk82"><hr></label><div class="goal-conclusion">ap k^-<span class="mi">1</span>
  (q b
   @&#39; ((q b)^
       @&#39; ap (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; k (g b)) (eissect h b)^))
@&#39; (eissect k (g (h^-<span class="mi">1</span> (h b)))
    @&#39; ap g (eissect h b)) = eissect k (g b)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk83" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk83"><span class="kp">all</span>:<span class="nb">rewrite</span> concat_p_Vp, concat_p_pp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv h</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEquiv k</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap k^-<span class="mi">1</span> (ap (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; k (f b)) (eissect h b)^)
@&#39; eissect k (f (h^-<span class="mi">1</span> (h b)))
@&#39; ap f (eissect h b) = eissect k (f b)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="coeq-v-chk84" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv h</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEquiv k</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><label class="goal-separator" for="coeq-v-chk84"><hr></label><div class="goal-conclusion">ap k^-<span class="mi">1</span> (ap (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; k (g b)) (eissect h b)^)
@&#39; eissect k (g (h^-<span class="mi">1</span> (h b)))
@&#39; ap g (eissect h b) = eissect k (g b)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk85" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk85"><span class="kp">all</span>:<span class="nb">rewrite</span> &lt;- (ap_compose (k o _) k^-<span class="mi">1</span>), (ap_compose _ (k^-<span class="mi">1</span> o k)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv h</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEquiv k</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; k^-<span class="mi">1</span> (k x)) (ap f (eissect h b)^)
@&#39; eissect k (f (h^-<span class="mi">1</span> (h b)))
@&#39; ap f (eissect h b) = eissect k (f b)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="coeq-v-chk86" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv h</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEquiv k</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><label class="goal-separator" for="coeq-v-chk86"><hr></label><div class="goal-conclusion">ap (<span class="kr">fun</span> <span class="nv">x</span> : A =&gt; k^-<span class="mi">1</span> (k x)) (ap g (eissect h b)^)
@&#39; eissect k (g (h^-<span class="mi">1</span> (h b)))
@&#39; ap g (eissect h b) = eissect k (g b)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk87" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk87"><span class="kp">all</span>:<span class="nb">rewrite</span> (concat_A1p (eissect k) _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv h</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEquiv k</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">eissect k (f b)
@&#39; ap f (eissect h b)^
@&#39; ap f (eissect h b) = eissect k (f b)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="coeq-v-chk88" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>h</var><span class="hyp-type"><b>: </b><span>B -&gt; B&#39;</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39;</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>IsEquiv h</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>IsEquiv k</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>k o f == f&#39; o h</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>k o g == g&#39; o h</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><label class="goal-separator" for="coeq-v-chk88"><hr></label><div class="goal-conclusion">eissect k (g b)
@&#39; ap g (eissect h b)^
@&#39; ap g (eissect h b) = eissect k (g b)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kp">all</span>:<span class="nb">rewrite</span> ap_V, concat_pV_p; <span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Close Scope</span> long_path_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Global Instance</span> <span class="nf">isequiv_functor_coeq</span>
  : IsEquiv (functor_coeq h k p q)
    := isequiv_adjointify _ functor_coeq_inverse
                          functor_coeq_eissect functor_coeq_eisretr.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">equiv_functor_coeq</span>
  : @Coeq B A f g &lt;~&gt; @Coeq B&#39; A&#39; f&#39; g&#39;
    := Build_Equiv _ _ (functor_coeq h k p q) _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">IsEquivFunctorCoeq</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">equiv_functor_coeq&#39;</span> {<span class="nv">B</span> <span class="nv">A</span> <span class="nv">f</span> <span class="nv">g</span> <span class="nv">B&#39;</span> <span class="nv">A&#39;</span> <span class="nv">f&#39;</span> <span class="nv">g&#39;</span>}
           (<span class="nv">h</span> : B &lt;~&gt; B&#39;) (<span class="nv">k</span> : A &lt;~&gt; A&#39;)
           (<span class="nv">p</span> : k o f == f&#39; o h) (<span class="nv">q</span> : k o g == g&#39; o h)
: @Coeq B A f g &lt;~&gt; @Coeq B&#39; A&#39; f&#39; g&#39;
  := equiv_functor_coeq h k p q.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** A double recursion principle *)</span>

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">CoeqRec2</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> {<span class="nv">B</span> <span class="nv">A</span> : <span class="kt">Type</span>} {<span class="nv">f</span> <span class="nv">g</span> : B -&gt; A} {<span class="nv">B&#39;</span> <span class="nv">A&#39;</span> : <span class="kt">Type</span>} {<span class="nv">f&#39;</span> <span class="nv">g&#39;</span> : B&#39; -&gt; A&#39;}
    (<span class="nv">P</span> : <span class="kt">Type</span>) (<span class="nv">coeq&#39;</span> : A -&gt; A&#39; -&gt; P)
    (<span class="nv">cgluel</span> : <span class="kr">forall</span> <span class="nv">b</span> <span class="nv">a&#39;</span>, coeq&#39; (f b) a&#39; = coeq&#39; (g b) a&#39;)
    (<span class="nv">cgluer</span> : <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b&#39;</span>, coeq&#39; a (f&#39; b&#39;) = coeq&#39; a (g&#39; b&#39;))
    (<span class="nv">cgluelr</span> : <span class="kr">forall</span> <span class="nv">b</span> <span class="nv">b&#39;</span>, cgluel b (f&#39; b&#39;) @ cgluer (g b) b&#39;
                          = cgluer (f b) b&#39; @ cgluel b (g&#39; b&#39;)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk89" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk89"><span class="kn">Definition</span> <span class="nf">Coeq_rec2</span> : Coeq f g -&gt; Coeq f&#39; g&#39; -&gt; P.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39; -&gt; P</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
coeq&#39; (f b) a&#39; = coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
coeq&#39; a (f&#39; b&#39;) = coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
cgluel b (f&#39; b&#39;) @ cgluer (g b) b&#39; =
cgluer (f b) b&#39; @ cgluel b (g&#39; b&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Coeq f g -&gt; Coeq f&#39; g&#39; -&gt; P</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk8a" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk8a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39; -&gt; P</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
coeq&#39; (f b) a&#39; = coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
coeq&#39; a (f&#39; b&#39;) = coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
cgluel b (f&#39; b&#39;) @ cgluer (g b) b&#39; =
cgluer (f b) b&#39; @ cgluel b (g&#39; b&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Coeq f g -&gt; Coeq f&#39; g&#39; -&gt; P</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk8b" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk8b"><span class="nb">intros</span> x y; <span class="nb">revert</span> x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39; -&gt; P</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
coeq&#39; (f b) a&#39; = coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
coeq&#39; a (f&#39; b&#39;) = coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
cgluel b (f&#39; b&#39;) @ cgluer (g b) b&#39; =
cgluer (f b) b&#39; @ cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Coeq f g -&gt; P</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk8c" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk8c">snrapply Coeq_rec.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39; -&gt; P</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
coeq&#39; (f b) a&#39; = coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
coeq&#39; a (f&#39; b&#39;) = coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
cgluel b (f&#39; b&#39;) @ cgluer (g b) b&#39; =
cgluer (f b) b&#39; @ cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A -&gt; P</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="coeq-v-chk8d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39; -&gt; P</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
coeq&#39; (f b) a&#39; = coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
coeq&#39; a (f&#39; b&#39;) = coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
cgluel b (f&#39; b&#39;) @ cgluer (g b) b&#39; =
cgluer (f b) b&#39; @ cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39;</span></span></span><br></div><label class="goal-separator" for="coeq-v-chk8d"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> : B, <span class="nl">?coeq&#39;</span> (f b) = <span class="nl">?coeq&#39;</span> (g b)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk8e" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk8e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39; -&gt; P</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
coeq&#39; (f b) a&#39; = coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
coeq&#39; a (f&#39; b&#39;) = coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
cgluel b (f&#39; b&#39;) @ cgluer (g b) b&#39; =
cgluer (f b) b&#39; @ cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A -&gt; P</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk8f" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk8f"><span class="nb">intros</span> a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39; -&gt; P</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
coeq&#39; (f b) a&#39; = coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
coeq&#39; a (f&#39; b&#39;) = coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
cgluel b (f&#39; b&#39;) @ cgluer (g b) b&#39; =
cgluer (f b) b&#39; @ cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39;</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk90" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk90"><span class="nb">revert</span> y.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39; -&gt; P</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
coeq&#39; (f b) a&#39; = coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
coeq&#39; a (f&#39; b&#39;) = coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
cgluel b (f&#39; b&#39;) @ cgluer (g b) b&#39; =
cgluer (f b) b&#39; @ cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Coeq f&#39; g&#39; -&gt; P</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk91" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk91">snrapply Coeq_rec.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39; -&gt; P</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
coeq&#39; (f b) a&#39; = coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
coeq&#39; a (f&#39; b&#39;) = coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
cgluel b (f&#39; b&#39;) @ cgluer (g b) b&#39; =
cgluer (f b) b&#39; @ cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A&#39; -&gt; P</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="coeq-v-chk92" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39; -&gt; P</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
coeq&#39; (f b) a&#39; = coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
coeq&#39; a (f&#39; b&#39;) = coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
cgluel b (f&#39; b&#39;) @ cgluer (g b) b&#39; =
cgluer (f b) b&#39; @ cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><label class="goal-separator" for="coeq-v-chk92"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> : B&#39;, <span class="nl">?coeq&#39;</span> (f&#39; b) = <span class="nl">?coeq&#39;</span> (g&#39; b)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk93" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk93">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39; -&gt; P</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
coeq&#39; (f b) a&#39; = coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
coeq&#39; a (f&#39; b&#39;) = coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
cgluel b (f&#39; b&#39;) @ cgluer (g b) b&#39; =
cgluer (f b) b&#39; @ cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A&#39; -&gt; P</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk94" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk94"><span class="nb">intros</span> a&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39; -&gt; P</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
coeq&#39; (f b) a&#39; = coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
coeq&#39; a (f&#39; b&#39;) = coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
cgluel b (f&#39; b&#39;) @ cgluer (g b) b&#39; =
cgluer (f b) b&#39; @ cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>a'</var><span class="hyp-type"><b>: </b><span>A&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (coeq&#39; a a&#39;).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk95" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk95">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39; -&gt; P</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
coeq&#39; (f b) a&#39; = coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
coeq&#39; a (f&#39; b&#39;) = coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
cgluel b (f&#39; b&#39;) @ cgluer (g b) b&#39; =
cgluer (f b) b&#39; @ cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> : B&#39;,
(<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a a&#39;) (f&#39; b) =
(<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a a&#39;) (g&#39; b)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk96" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk96"><span class="nb">intros</span> b&#39;; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39; -&gt; P</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
coeq&#39; (f b) a&#39; = coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
coeq&#39; a (f&#39; b&#39;) = coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
cgluel b (f&#39; b&#39;) @ cgluer (g b) b&#39; =
cgluer (f b) b&#39; @ cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b'</var><span class="hyp-type"><b>: </b><span>B&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">coeq&#39; a (f&#39; b&#39;) = coeq&#39; a (g&#39; b&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> cgluer.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk97" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk97">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39; -&gt; P</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
coeq&#39; (f b) a&#39; = coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
coeq&#39; a (f&#39; b&#39;) = coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
cgluel b (f&#39; b&#39;) @ cgluer (g b) b&#39; =
cgluer (f b) b&#39; @ cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> : B,
(<span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
 Coeq_rec P (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a a&#39;)
   (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt;
    cgluer a b&#39;
    :
    (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a a&#39;) (f&#39; b&#39;) =
    (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a a&#39;) (g&#39; b&#39;)) y) (f b) =
(<span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
 Coeq_rec P (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a a&#39;)
   (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt;
    cgluer a b&#39;
    :
    (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a a&#39;) (f&#39; b&#39;) =
    (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a a&#39;) (g&#39; b&#39;)) y) (g b)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk98" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk98"><span class="nb">intros</span> b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39; -&gt; P</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
coeq&#39; (f b) a&#39; = coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
coeq&#39; a (f&#39; b&#39;) = coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
cgluel b (f&#39; b&#39;) @ cgluer (g b) b&#39; =
cgluer (f b) b&#39; @ cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39;</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
 Coeq_rec P (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a a&#39;)
   (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt;
    cgluer a b&#39;
    :
    (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a a&#39;) (f&#39; b&#39;) =
    (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a a&#39;) (g&#39; b&#39;)) y) (f b) =
(<span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
 Coeq_rec P (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a a&#39;)
   (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt;
    cgluer a b&#39;
    :
    (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a a&#39;) (f&#39; b&#39;) =
    (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a a&#39;) (g&#39; b&#39;)) y) (g b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk99" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk99"><span class="nb">revert</span> y.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39; -&gt; P</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
coeq&#39; (f b) a&#39; = coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
coeq&#39; a (f&#39; b&#39;) = coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
cgluel b (f&#39; b&#39;) @ cgluer (g b) b&#39; =
cgluer (f b) b&#39; @ cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">y</span> : Coeq f&#39; g&#39;,
(<span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
 Coeq_rec P (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a a&#39;)
   (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt;
    cgluer a b&#39;
    :
    (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a a&#39;) (f&#39; b&#39;) =
    (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a a&#39;) (g&#39; b&#39;)) y) (f b) =
(<span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
 Coeq_rec P (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a a&#39;)
   (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt;
    cgluer a b&#39;
    :
    (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a a&#39;) (f&#39; b&#39;) =
    (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a a&#39;) (g&#39; b&#39;)) y) (g b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk9a" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk9a">snrapply Coeq_ind.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39; -&gt; P</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
coeq&#39; (f b) a&#39; = coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
coeq&#39; a (f&#39; b&#39;) = coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
cgluel b (f&#39; b&#39;) @ cgluer (g b) b&#39; =
cgluer (f b) b&#39; @ cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A&#39;,
(<span class="kr">fun</span> <span class="nv">w</span> : Coeq f&#39; g&#39; =&gt;
 (<span class="kr">fun</span> <span class="nv">a0</span> : A =&gt;
  Coeq_rec P (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a0 a&#39;)
    (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt;
     cgluer a0 b&#39;
     :
     (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a0 a&#39;) (f&#39; b&#39;) =
     (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a0 a&#39;) (g&#39; b&#39;)) w) (f b) =
 (<span class="kr">fun</span> <span class="nv">a0</span> : A =&gt;
  Coeq_rec P (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a0 a&#39;)
    (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt;
     cgluer a0 b&#39;
     :
     (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a0 a&#39;) (f&#39; b&#39;) =
     (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a0 a&#39;) (g&#39; b&#39;)) w) (g b))
  (coeq a)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="coeq-v-chk9b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39; -&gt; P</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
coeq&#39; (f b) a&#39; = coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
coeq&#39; a (f&#39; b&#39;) = coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
cgluel b (f&#39; b&#39;) @ cgluer (g b) b&#39; =
cgluer (f b) b&#39; @ cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><label class="goal-separator" for="coeq-v-chk9b"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b0</span> : B&#39;,
transport
  (<span class="kr">fun</span> <span class="nv">w</span> : Coeq f&#39; g&#39; =&gt;
   (<span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
    Coeq_rec P (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a a&#39;)
      (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt;
       cgluer a b&#39;
       :
       (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a a&#39;) (f&#39; b&#39;) =
       (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a a&#39;) (g&#39; b&#39;)) w) 
     (f b) =
   (<span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
    Coeq_rec P (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a a&#39;)
      (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt;
       cgluer a b&#39;
       :
       (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a a&#39;) (f&#39; b&#39;) =
       (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a a&#39;) (g&#39; b&#39;)) w) 
     (g b)) (cglue b0) (<span class="nl">?coeq&#39;</span> (f&#39; b0)) =
<span class="nl">?coeq&#39;</span> (g&#39; b0)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk9c" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk9c">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39; -&gt; P</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
coeq&#39; (f b) a&#39; = coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
coeq&#39; a (f&#39; b&#39;) = coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
cgluel b (f&#39; b&#39;) @ cgluer (g b) b&#39; =
cgluer (f b) b&#39; @ cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A&#39;,
(<span class="kr">fun</span> <span class="nv">w</span> : Coeq f&#39; g&#39; =&gt;
 (<span class="kr">fun</span> <span class="nv">a0</span> : A =&gt;
  Coeq_rec P (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a0 a&#39;)
    (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt;
     cgluer a0 b&#39;
     :
     (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a0 a&#39;) (f&#39; b&#39;) =
     (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a0 a&#39;) (g&#39; b&#39;)) w) (f b) =
 (<span class="kr">fun</span> <span class="nv">a0</span> : A =&gt;
  Coeq_rec P (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a0 a&#39;)
    (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt;
     cgluer a0 b&#39;
     :
     (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a0 a&#39;) (f&#39; b&#39;) =
     (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a0 a&#39;) (g&#39; b&#39;)) w) (g b))
  (coeq a)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk9d" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk9d"><span class="nb">intros</span> a&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39; -&gt; P</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
coeq&#39; (f b) a&#39; = coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
coeq&#39; a (f&#39; b&#39;) = coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
cgluel b (f&#39; b&#39;) @ cgluer (g b) b&#39; =
cgluer (f b) b&#39; @ cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>a'</var><span class="hyp-type"><b>: </b><span>A&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">w</span> : Coeq f&#39; g&#39; =&gt;
 (<span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
  Coeq_rec P (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a a&#39;)
    (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt;
     cgluer a b&#39;
     :
     (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a a&#39;) (f&#39; b&#39;) =
     (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a a&#39;) (g&#39; b&#39;)) w) (f b) =
 (<span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
  Coeq_rec P (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a a&#39;)
    (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt;
     cgluer a b&#39;
     :
     (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a a&#39;) (f&#39; b&#39;) =
     (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a a&#39;) (g&#39; b&#39;)) w) (g b))
  (coeq a&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk9e" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk9e"><span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39; -&gt; P</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
coeq&#39; (f b) a&#39; = coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
coeq&#39; a (f&#39; b&#39;) = coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
cgluel b (f&#39; b&#39;) @ cgluer (g b) b&#39; =
cgluer (f b) b&#39; @ cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>a'</var><span class="hyp-type"><b>: </b><span>A&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Coeq_rec P (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; (f b) a&#39;)
  (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; cgluer (f b) b&#39;) (coeq a&#39;) =
Coeq_rec P (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; (g b) a&#39;)
  (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; cgluer (g b) b&#39;) (coeq a&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> cgluel.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chk9f" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chk9f">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39; -&gt; P</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
coeq&#39; (f b) a&#39; = coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
coeq&#39; a (f&#39; b&#39;) = coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
cgluel b (f&#39; b&#39;) @ cgluer (g b) b&#39; =
cgluer (f b) b&#39; @ cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b0</span> : B&#39;,
transport
  (<span class="kr">fun</span> <span class="nv">w</span> : Coeq f&#39; g&#39; =&gt;
   (<span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
    Coeq_rec P (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a a&#39;)
      (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt;
       cgluer a b&#39;
       :
       (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a a&#39;) (f&#39; b&#39;) =
       (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a a&#39;) (g&#39; b&#39;)) w) (f b) =
   (<span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
    Coeq_rec P (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a a&#39;)
      (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt;
       cgluer a b&#39;
       :
       (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a a&#39;) (f&#39; b&#39;) =
       (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a a&#39;) (g&#39; b&#39;)) w) (g b))
  (cglue b0)
  ((<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt;
    cgluel b a&#39;
    :
    (<span class="kr">fun</span> <span class="nv">w</span> : Coeq f&#39; g&#39; =&gt;
     (<span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
      Coeq_rec P (<span class="kr">fun</span> <span class="nv">a&#39;0</span> : A&#39; =&gt; coeq&#39; a a&#39;0)
        (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt;
         cgluer a b&#39;
         :
         (<span class="kr">fun</span> <span class="nv">a&#39;0</span> : A&#39; =&gt; coeq&#39; a a&#39;0) (f&#39; b&#39;) =
         (<span class="kr">fun</span> <span class="nv">a&#39;0</span> : A&#39; =&gt; coeq&#39; a a&#39;0) (g&#39; b&#39;)) w)
       (f b) =
     (<span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
      Coeq_rec P (<span class="kr">fun</span> <span class="nv">a&#39;0</span> : A&#39; =&gt; coeq&#39; a a&#39;0)
        (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt;
         cgluer a b&#39;
         :
         (<span class="kr">fun</span> <span class="nv">a&#39;0</span> : A&#39; =&gt; coeq&#39; a a&#39;0) (f&#39; b&#39;) =
         (<span class="kr">fun</span> <span class="nv">a&#39;0</span> : A&#39; =&gt; coeq&#39; a a&#39;0) (g&#39; b&#39;)) w)
       (g b)) (coeq a&#39;)) (f&#39; b0)) =
(<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt;
 cgluel b a&#39;
 :
 (<span class="kr">fun</span> <span class="nv">w</span> : Coeq f&#39; g&#39; =&gt;
  (<span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
   Coeq_rec P (<span class="kr">fun</span> <span class="nv">a&#39;0</span> : A&#39; =&gt; coeq&#39; a a&#39;0)
     (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt;
      cgluer a b&#39;
      :
      (<span class="kr">fun</span> <span class="nv">a&#39;0</span> : A&#39; =&gt; coeq&#39; a a&#39;0) (f&#39; b&#39;) =
      (<span class="kr">fun</span> <span class="nv">a&#39;0</span> : A&#39; =&gt; coeq&#39; a a&#39;0) (g&#39; b&#39;)) w) (f b) =
  (<span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
   Coeq_rec P (<span class="kr">fun</span> <span class="nv">a&#39;0</span> : A&#39; =&gt; coeq&#39; a a&#39;0)
     (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt;
      cgluer a b&#39;
      :
      (<span class="kr">fun</span> <span class="nv">a&#39;0</span> : A&#39; =&gt; coeq&#39; a a&#39;0) (f&#39; b&#39;) =
      (<span class="kr">fun</span> <span class="nv">a&#39;0</span> : A&#39; =&gt; coeq&#39; a a&#39;0) (g&#39; b&#39;)) w) (g b))
   (coeq a&#39;)) (g&#39; b0)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chka0" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chka0"><span class="nb">intros</span> b&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39; -&gt; P</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
coeq&#39; (f b) a&#39; = coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
coeq&#39; a (f&#39; b&#39;) = coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
cgluel b (f&#39; b&#39;) @ cgluer (g b) b&#39; =
cgluer (f b) b&#39; @ cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>b'</var><span class="hyp-type"><b>: </b><span>B&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport
  (<span class="kr">fun</span> <span class="nv">w</span> : Coeq f&#39; g&#39; =&gt;
   (<span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
    Coeq_rec P (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a a&#39;)
      (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt;
       cgluer a b&#39;
       :
       (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a a&#39;) (f&#39; b&#39;) =
       (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a a&#39;) (g&#39; b&#39;)) w) (f b) =
   (<span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
    Coeq_rec P (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a a&#39;)
      (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt;
       cgluer a b&#39;
       :
       (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a a&#39;) (f&#39; b&#39;) =
       (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a a&#39;) (g&#39; b&#39;)) w) (g b))
  (cglue b&#39;)
  ((<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt;
    cgluel b a&#39;
    :
    (<span class="kr">fun</span> <span class="nv">w</span> : Coeq f&#39; g&#39; =&gt;
     (<span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
      Coeq_rec P (<span class="kr">fun</span> <span class="nv">a&#39;0</span> : A&#39; =&gt; coeq&#39; a a&#39;0)
        (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt;
         cgluer a b&#39;
         :
         (<span class="kr">fun</span> <span class="nv">a&#39;0</span> : A&#39; =&gt; coeq&#39; a a&#39;0) (f&#39; b&#39;) =
         (<span class="kr">fun</span> <span class="nv">a&#39;0</span> : A&#39; =&gt; coeq&#39; a a&#39;0) (g&#39; b&#39;)) w)
       (f b) =
     (<span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
      Coeq_rec P (<span class="kr">fun</span> <span class="nv">a&#39;0</span> : A&#39; =&gt; coeq&#39; a a&#39;0)
        (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt;
         cgluer a b&#39;
         :
         (<span class="kr">fun</span> <span class="nv">a&#39;0</span> : A&#39; =&gt; coeq&#39; a a&#39;0) (f&#39; b&#39;) =
         (<span class="kr">fun</span> <span class="nv">a&#39;0</span> : A&#39; =&gt; coeq&#39; a a&#39;0) (g&#39; b&#39;)) w)
       (g b)) (coeq a&#39;)) (f&#39; b&#39;)) =
(<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt;
 cgluel b a&#39;
 :
 (<span class="kr">fun</span> <span class="nv">w</span> : Coeq f&#39; g&#39; =&gt;
  (<span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
   Coeq_rec P (<span class="kr">fun</span> <span class="nv">a&#39;0</span> : A&#39; =&gt; coeq&#39; a a&#39;0)
     (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt;
      cgluer a b&#39;
      :
      (<span class="kr">fun</span> <span class="nv">a&#39;0</span> : A&#39; =&gt; coeq&#39; a a&#39;0) (f&#39; b&#39;) =
      (<span class="kr">fun</span> <span class="nv">a&#39;0</span> : A&#39; =&gt; coeq&#39; a a&#39;0) (g&#39; b&#39;)) w) (f b) =
  (<span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
   Coeq_rec P (<span class="kr">fun</span> <span class="nv">a&#39;0</span> : A&#39; =&gt; coeq&#39; a a&#39;0)
     (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt;
      cgluer a b&#39;
      :
      (<span class="kr">fun</span> <span class="nv">a&#39;0</span> : A&#39; =&gt; coeq&#39; a a&#39;0) (f&#39; b&#39;) =
      (<span class="kr">fun</span> <span class="nv">a&#39;0</span> : A&#39; =&gt; coeq&#39; a a&#39;0) (g&#39; b&#39;)) w) (g b))
   (coeq a&#39;)) (g&#39; b&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chka1" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chka1">nrapply (transport_paths_FlFr&#39; (cglue b&#39;)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39; -&gt; P</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
coeq&#39; (f b) a&#39; = coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
coeq&#39; a (f&#39; b&#39;) = coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
cgluel b (f&#39; b&#39;) @ cgluer (g b) b&#39; =
cgluer (f b) b&#39; @ cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>b'</var><span class="hyp-type"><b>: </b><span>B&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap
  (Coeq_rec P (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; (f b) a&#39;)
     (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; cgluer (f b) b&#39;)) (cglue b&#39;) @
cgluel b (g&#39; b&#39;) =
cgluel b (f&#39; b&#39;) @
ap
  (Coeq_rec P (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; (g b) a&#39;)
     (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; cgluer (g b) b&#39;)) (cglue b&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chka2" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chka2">lhs nrapply (_ @@ <span class="mi">1</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39; -&gt; P</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
coeq&#39; (f b) a&#39; = coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
coeq&#39; a (f&#39; b&#39;) = coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
cgluel b (f&#39; b&#39;) @ cgluer (g b) b&#39; =
cgluer (f b) b&#39; @ cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>b'</var><span class="hyp-type"><b>: </b><span>B&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap
  (Coeq_rec P (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; (f b) a&#39;)
     (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; cgluer (f b) b&#39;)) (cglue b&#39;) =
<span class="nl">?Goal</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="coeq-v-chka3" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39; -&gt; P</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
coeq&#39; (f b) a&#39; = coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
coeq&#39; a (f&#39; b&#39;) = coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
cgluel b (f&#39; b&#39;) @ cgluer (g b) b&#39; =
cgluer (f b) b&#39; @ cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>b'</var><span class="hyp-type"><b>: </b><span>B&#39;</span></span></span><br></div><label class="goal-separator" for="coeq-v-chka3"><hr></label><div class="goal-conclusion"><span class="nl">?Goal</span> @ cgluel b (g&#39; b&#39;) =
cgluel b (f&#39; b&#39;) @
ap
  (Coeq_rec P (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; (g b) a&#39;)
     (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; cgluer (g b) b&#39;)) 
  (cglue b&#39;)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chka4" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chka4"><span class="mi">1</span>: <span class="nb">apply</span> Coeq_rec_beta_cglue.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39; -&gt; P</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
coeq&#39; (f b) a&#39; = coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
coeq&#39; a (f&#39; b&#39;) = coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
cgluel b (f&#39; b&#39;) @ cgluer (g b) b&#39; =
cgluer (f b) b&#39; @ cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>b'</var><span class="hyp-type"><b>: </b><span>B&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">cgluer (f b) b&#39; @ cgluel b (g&#39; b&#39;) =
cgluel b (f&#39; b&#39;) @
ap
  (Coeq_rec P (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; (g b) a&#39;)
     (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; cgluer (g b) b&#39;)) (cglue b&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chka5" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chka5">rhs nrapply (<span class="mi">1</span> @@ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39; -&gt; P</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
coeq&#39; (f b) a&#39; = coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
coeq&#39; a (f&#39; b&#39;) = coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
cgluel b (f&#39; b&#39;) @ cgluer (g b) b&#39; =
cgluer (f b) b&#39; @ cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>b'</var><span class="hyp-type"><b>: </b><span>B&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">cgluer (f b) b&#39; @ cgluel b (g&#39; b&#39;) =
cgluel b (f&#39; b&#39;) @ <span class="nl">?Goal</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="coeq-v-chka6" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39; -&gt; P</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
coeq&#39; (f b) a&#39; = coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
coeq&#39; a (f&#39; b&#39;) = coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
cgluel b (f&#39; b&#39;) @ cgluer (g b) b&#39; =
cgluer (f b) b&#39; @ cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>b'</var><span class="hyp-type"><b>: </b><span>B&#39;</span></span></span><br></div><label class="goal-separator" for="coeq-v-chka6"><hr></label><div class="goal-conclusion">ap
  (Coeq_rec P (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; (g b) a&#39;)
     (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; cgluer (g b) b&#39;)) 
  (cglue b&#39;) = <span class="nl">?Goal</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chka7" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chka7"><span class="mi">2</span>: <span class="nb">apply</span> Coeq_rec_beta_cglue.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39; -&gt; P</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
coeq&#39; (f b) a&#39; = coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
coeq&#39; a (f&#39; b&#39;) = coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
cgluel b (f&#39; b&#39;) @ cgluer (g b) b&#39; =
cgluer (f b) b&#39; @ cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>b'</var><span class="hyp-type"><b>: </b><span>B&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">cgluer (f b) b&#39; @ cgluel b (g&#39; b&#39;) =
cgluel b (f&#39; b&#39;) @ cgluer (g b) b&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chka8" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chka8"><span class="nb">symmetry</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39; -&gt; P</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
coeq&#39; (f b) a&#39; = coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
coeq&#39; a (f&#39; b&#39;) = coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
cgluel b (f&#39; b&#39;) @ cgluer (g b) b&#39; =
cgluer (f b) b&#39; @ cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>b'</var><span class="hyp-type"><b>: </b><span>B&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">cgluel b (f&#39; b&#39;) @ cgluer (g b) b&#39; =
cgluer (f b) b&#39; @ cgluel b (g&#39; b&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> cgluelr.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">Coeq_rec2_beta</span> (<span class="nv">a</span> : A) (<span class="nv">a&#39;</span> : A&#39;)
    : Coeq_rec2 (coeq a) (coeq a&#39;) = coeq&#39; a a&#39;
    := <span class="mi">1</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chka9" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chka9"><span class="kn">Definition</span> <span class="nf">Coeq_rec2_beta_cgluel</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;)
    : ap (Coeq_rec2 (coeq a)) (cglue b&#39;) = cgluer a b&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39; -&gt; P</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
coeq&#39; (f b) a&#39; = coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
coeq&#39; a (f&#39; b&#39;) = coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
cgluel b (f&#39; b&#39;) @ cgluer (g b) b&#39; =
cgluer (f b) b&#39; @ cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b'</var><span class="hyp-type"><b>: </b><span>B&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap (Coeq_rec2 (coeq a)) (cglue b&#39;) = cgluer a b&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkaa" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkaa"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39; -&gt; P</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
coeq&#39; (f b) a&#39; = coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
coeq&#39; a (f&#39; b&#39;) = coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
cgluel b (f&#39; b&#39;) @ cgluer (g b) b&#39; =
cgluer (f b) b&#39; @ cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b'</var><span class="hyp-type"><b>: </b><span>B&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap (Coeq_rec2 (coeq a)) (cglue b&#39;) = cgluer a b&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input">nrapply Coeq_rec_beta_cglue.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkab" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkab"><span class="kn">Definition</span> <span class="nf">Coeq_rec2_beta_cgluer</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;)
    : ap (<span class="kr">fun</span> <span class="nv">x</span> =&gt; Coeq_rec2 x (coeq a&#39;)) (cglue b) = cgluel b a&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39; -&gt; P</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
coeq&#39; (f b) a&#39; = coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
coeq&#39; a (f&#39; b&#39;) = coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
cgluel b (f&#39; b&#39;) @ cgluer (g b) b&#39; =
cgluer (f b) b&#39; @ cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>a'</var><span class="hyp-type"><b>: </b><span>A&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt; Coeq_rec2 x (coeq a&#39;))
  (cglue b) = cgluel b a&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkac" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkac"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span>A -&gt; A&#39; -&gt; P</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
coeq&#39; (f b) a&#39; = coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
coeq&#39; a (f&#39; b&#39;) = coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
cgluel b (f&#39; b&#39;) @ cgluer (g b) b&#39; =
cgluer (f b) b&#39; @ cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>a'</var><span class="hyp-type"><b>: </b><span>A&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt; Coeq_rec2 x (coeq a&#39;))
  (cglue b) = cgluel b a&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input">nrapply Coeq_rec_beta_cglue.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
  <span class="sd">(** TODO: [Coeq_rec2_beta_cgluelr] *)</span>

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">CoeqRec2</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** A double induction principle *)</span>

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">CoeqInd2</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> `{Funext}
          {B A : <span class="kt">Type</span>} {f g : B -&gt; A} {B&#39; A&#39; : <span class="kt">Type</span>} {f&#39; g&#39; : B&#39; -&gt; A&#39;}
          (P : Coeq f g -&gt; Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span>)
          (coeq&#39; : <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">a&#39;</span>, P (coeq a) (coeq a&#39;))
          (cgluel : <span class="kr">forall</span> <span class="nv">b</span> <span class="nv">a&#39;</span>,
                   transport (<span class="kr">fun</span> <span class="nv">x</span> =&gt; P x (coeq a&#39;)) (cglue b)
                             (coeq&#39; (f b) a&#39;) = coeq&#39; (g b) a&#39;)
          (cgluer : <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b&#39;</span>,
                   transport (<span class="kr">fun</span> <span class="nv">y</span> =&gt; P (coeq a) y) (cglue b&#39;)
                             (coeq&#39; a (f&#39; b&#39;)) = coeq&#39; a (g&#39; b&#39;))
          <span class="sd">(** Perhaps this should really be written using [concatD]. *)</span>
          (cgluelr : <span class="kr">forall</span> <span class="nv">b</span> <span class="nv">b&#39;</span>,
                  ap (transport (P (coeq (g b))) (cglue b&#39;)) (cgluel b (f&#39; b&#39;))
                  @ cgluer (g b) b&#39;
                  = transport_transport P (cglue b) (cglue b&#39;) (coeq&#39; (f b) (f&#39; b&#39;))
                  @ ap (transport (<span class="kr">fun</span> <span class="nv">x</span> =&gt; P x (coeq (g&#39; b&#39;))) (cglue b))
                       (cgluer (f b) b&#39;)
                  @ cgluel b (g&#39; b&#39;)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkad" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkad"><span class="kn">Definition</span> <span class="nf">Coeq_ind2</span>
  : <span class="kr">forall</span> <span class="nv">x</span> <span class="nv">y</span>, P x y.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>Coeq f g -&gt; Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">a&#39;</span> : A&#39;), P (coeq a) (coeq a&#39;)</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
transport (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt; P x (coeq a&#39;))
  (cglue b) (coeq&#39; (f b) a&#39;) = 
coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
transport
  (<span class="kr">fun</span> <span class="nv">y</span> : Coeq f&#39; g&#39; =&gt; P (coeq a) y)
  (cglue b&#39;) (coeq&#39; a (f&#39; b&#39;)) =
coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
ap (transport (P (coeq (g b))) (cglue b&#39;))
  (cgluel b (f&#39; b&#39;)) @ cgluer (g b) b&#39; =
(transport_transport P (cglue b) 
   (cglue b&#39;) (coeq&#39; (f b) (f&#39; b&#39;)) @
 ap
   (transport
      (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
       P x (coeq (g&#39; b&#39;))) 
      (cglue b)) (cgluer (f b) b&#39;)) @
cgluel b (g&#39; b&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">x</span> : Coeq f g) (<span class="nv">y</span> : Coeq f&#39; g&#39;), P x y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkae" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkae"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>Coeq f g -&gt; Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">a&#39;</span> : A&#39;), P (coeq a) (coeq a&#39;)</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
transport (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt; P x (coeq a&#39;))
  (cglue b) (coeq&#39; (f b) a&#39;) = 
coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
transport
  (<span class="kr">fun</span> <span class="nv">y</span> : Coeq f&#39; g&#39; =&gt; P (coeq a) y)
  (cglue b&#39;) (coeq&#39; a (f&#39; b&#39;)) =
coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
ap (transport (P (coeq (g b))) (cglue b&#39;))
  (cgluel b (f&#39; b&#39;)) @ cgluer (g b) b&#39; =
(transport_transport P (cglue b) 
   (cglue b&#39;) (coeq&#39; (f b) (f&#39; b&#39;)) @
 ap
   (transport
      (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
       P x (coeq (g&#39; b&#39;))) 
      (cglue b)) (cgluer (f b) b&#39;)) @
cgluel b (g&#39; b&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> (<span class="nv">x</span> : Coeq f g) (<span class="nv">y</span> : Coeq f&#39; g&#39;), P x y</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkaf" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkaf"><span class="nb">simple refine</span> (Coeq_ind _ _ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>Coeq f g -&gt; Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">a&#39;</span> : A&#39;), P (coeq a) (coeq a&#39;)</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
transport (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt; P x (coeq a&#39;))
  (cglue b) (coeq&#39; (f b) a&#39;) = 
coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
transport
  (<span class="kr">fun</span> <span class="nv">y</span> : Coeq f&#39; g&#39; =&gt; P (coeq a) y)
  (cglue b&#39;) (coeq&#39; a (f&#39; b&#39;)) =
coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
ap (transport (P (coeq (g b))) (cglue b&#39;))
  (cgluel b (f&#39; b&#39;)) @ cgluer (g b) b&#39; =
(transport_transport P (cglue b) 
   (cglue b&#39;) (coeq&#39; (f b) (f&#39; b&#39;)) @
 ap
   (transport
      (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
       P x (coeq (g&#39; b&#39;))) 
      (cglue b)) (cgluer (f b) b&#39;)) @
cgluel b (g&#39; b&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A,
(<span class="kr">fun</span> <span class="nv">w</span> : Coeq f g =&gt; <span class="kr">forall</span> <span class="nv">y</span> : Coeq f&#39; g&#39;, P w y)
  (coeq a)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="coeq-v-chkb0" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>Coeq f g -&gt; Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">a&#39;</span> : A&#39;), P (coeq a) (coeq a&#39;)</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
transport (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt; P x (coeq a&#39;))
  (cglue b) (coeq&#39; (f b) a&#39;) = 
coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
transport
  (<span class="kr">fun</span> <span class="nv">y</span> : Coeq f&#39; g&#39; =&gt; P (coeq a) y)
  (cglue b&#39;) (coeq&#39; a (f&#39; b&#39;)) =
coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
ap (transport (P (coeq (g b))) (cglue b&#39;))
  (cgluel b (f&#39; b&#39;)) @ cgluer (g b) b&#39; =
(transport_transport P (cglue b) 
   (cglue b&#39;) (coeq&#39; (f b) (f&#39; b&#39;)) @
 ap
   (transport
      (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
       P x (coeq (g&#39; b&#39;))) 
      (cglue b)) (cgluer (f b) b&#39;)) @
cgluel b (g&#39; b&#39;)</span></span></span><br></div><label class="goal-separator" for="coeq-v-chkb0"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> : B,
transport
  (<span class="kr">fun</span> <span class="nv">w</span> : Coeq f g =&gt; <span class="kr">forall</span> <span class="nv">y</span> : Coeq f&#39; g&#39;, P w y)
  (cglue b) (<span class="nl">?coeq&#39;</span> (f b)) = 
<span class="nl">?coeq&#39;</span> (g b)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkb1" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkb1">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>Coeq f g -&gt; Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">a&#39;</span> : A&#39;), P (coeq a) (coeq a&#39;)</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
transport (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt; P x (coeq a&#39;))
  (cglue b) (coeq&#39; (f b) a&#39;) = 
coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
transport
  (<span class="kr">fun</span> <span class="nv">y</span> : Coeq f&#39; g&#39; =&gt; P (coeq a) y)
  (cglue b&#39;) (coeq&#39; a (f&#39; b&#39;)) =
coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
ap (transport (P (coeq (g b))) (cglue b&#39;))
  (cgluel b (f&#39; b&#39;)) @ cgluer (g b) b&#39; =
(transport_transport P (cglue b) 
   (cglue b&#39;) (coeq&#39; (f b) (f&#39; b&#39;)) @
 ap
   (transport
      (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
       P x (coeq (g&#39; b&#39;))) 
      (cglue b)) (cgluer (f b) b&#39;)) @
cgluel b (g&#39; b&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A,
(<span class="kr">fun</span> <span class="nv">w</span> : Coeq f g =&gt; <span class="kr">forall</span> <span class="nv">y</span> : Coeq f&#39; g&#39;, P w y)
  (coeq a)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkb2" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkb2"><span class="nb">intros</span> a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>Coeq f g -&gt; Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">a&#39;</span> : A&#39;), P (coeq a) (coeq a&#39;)</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
transport (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt; P x (coeq a&#39;))
  (cglue b) (coeq&#39; (f b) a&#39;) = 
coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
transport
  (<span class="kr">fun</span> <span class="nv">y</span> : Coeq f&#39; g&#39; =&gt; P (coeq a) y)
  (cglue b&#39;) (coeq&#39; a (f&#39; b&#39;)) =
coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
ap (transport (P (coeq (g b))) (cglue b&#39;))
  (cgluel b (f&#39; b&#39;)) @ cgluer (g b) b&#39; =
(transport_transport P (cglue b) 
   (cglue b&#39;) (coeq&#39; (f b) (f&#39; b&#39;)) @
 ap
   (transport
      (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
       P x (coeq (g&#39; b&#39;))) 
      (cglue b)) (cgluer (f b) b&#39;)) @
cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">w</span> : Coeq f g =&gt; <span class="kr">forall</span> <span class="nv">y</span> : Coeq f&#39; g&#39;, P w y)
  (coeq a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkb3" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkb3"><span class="nb">simple refine</span> (Coeq_ind _ _ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>Coeq f g -&gt; Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">a&#39;</span> : A&#39;), P (coeq a) (coeq a&#39;)</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
transport (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt; P x (coeq a&#39;))
  (cglue b) (coeq&#39; (f b) a&#39;) = 
coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
transport
  (<span class="kr">fun</span> <span class="nv">y</span> : Coeq f&#39; g&#39; =&gt; P (coeq a) y)
  (cglue b&#39;) (coeq&#39; a (f&#39; b&#39;)) =
coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
ap (transport (P (coeq (g b))) (cglue b&#39;))
  (cgluel b (f&#39; b&#39;)) @ cgluer (g b) b&#39; =
(transport_transport P (cglue b) 
   (cglue b&#39;) (coeq&#39; (f b) (f&#39; b&#39;)) @
 ap
   (transport
      (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
       P x (coeq (g&#39; b&#39;))) 
      (cglue b)) (cgluer (f b) b&#39;)) @
cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a0</span> : A&#39;, P (coeq a) (coeq a0)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="coeq-v-chkb4" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>Coeq f g -&gt; Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">a&#39;</span> : A&#39;), P (coeq a) (coeq a&#39;)</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
transport (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt; P x (coeq a&#39;))
  (cglue b) (coeq&#39; (f b) a&#39;) = 
coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
transport
  (<span class="kr">fun</span> <span class="nv">y</span> : Coeq f&#39; g&#39; =&gt; P (coeq a) y)
  (cglue b&#39;) (coeq&#39; a (f&#39; b&#39;)) =
coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
ap (transport (P (coeq (g b))) (cglue b&#39;))
  (cgluel b (f&#39; b&#39;)) @ cgluer (g b) b&#39; =
(transport_transport P (cglue b) 
   (cglue b&#39;) (coeq&#39; (f b) (f&#39; b&#39;)) @
 ap
   (transport
      (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
       P x (coeq (g&#39; b&#39;))) 
      (cglue b)) (cgluer (f b) b&#39;)) @
cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><label class="goal-separator" for="coeq-v-chkb4"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> : B&#39;,
transport (P (coeq a)) (cglue b) (<span class="nl">?coeq&#39;</span> (f&#39; b)) =
<span class="nl">?coeq&#39;</span> (g&#39; b)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkb5" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkb5">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>Coeq f g -&gt; Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">a&#39;</span> : A&#39;), P (coeq a) (coeq a&#39;)</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
transport (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt; P x (coeq a&#39;))
  (cglue b) (coeq&#39; (f b) a&#39;) = 
coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
transport
  (<span class="kr">fun</span> <span class="nv">y</span> : Coeq f&#39; g&#39; =&gt; P (coeq a) y)
  (cglue b&#39;) (coeq&#39; a (f&#39; b&#39;)) =
coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
ap (transport (P (coeq (g b))) (cglue b&#39;))
  (cgluel b (f&#39; b&#39;)) @ cgluer (g b) b&#39; =
(transport_transport P (cglue b) 
   (cglue b&#39;) (coeq&#39; (f b) (f&#39; b&#39;)) @
 ap
   (transport
      (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
       P x (coeq (g&#39; b&#39;))) 
      (cglue b)) (cgluer (f b) b&#39;)) @
cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a0</span> : A&#39;, P (coeq a) (coeq a0)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkb6" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkb6"><span class="nb">intros</span> a&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>Coeq f g -&gt; Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">a&#39;</span> : A&#39;), P (coeq a) (coeq a&#39;)</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
transport (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt; P x (coeq a&#39;))
  (cglue b) (coeq&#39; (f b) a&#39;) = 
coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
transport
  (<span class="kr">fun</span> <span class="nv">y</span> : Coeq f&#39; g&#39; =&gt; P (coeq a) y)
  (cglue b&#39;) (coeq&#39; a (f&#39; b&#39;)) =
coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
ap (transport (P (coeq (g b))) (cglue b&#39;))
  (cgluel b (f&#39; b&#39;)) @ cgluer (g b) b&#39; =
(transport_transport P (cglue b) 
   (cglue b&#39;) (coeq&#39; (f b) (f&#39; b&#39;)) @
 ap
   (transport
      (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
       P x (coeq (g&#39; b&#39;))) 
      (cglue b)) (cgluer (f b) b&#39;)) @
cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>a'</var><span class="hyp-type"><b>: </b><span>A&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P (coeq a) (coeq a&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (coeq&#39; a a&#39;).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkb7" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkb7">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>Coeq f g -&gt; Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">a&#39;</span> : A&#39;), P (coeq a) (coeq a&#39;)</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
transport (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt; P x (coeq a&#39;))
  (cglue b) (coeq&#39; (f b) a&#39;) = 
coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
transport
  (<span class="kr">fun</span> <span class="nv">y</span> : Coeq f&#39; g&#39; =&gt; P (coeq a) y)
  (cglue b&#39;) (coeq&#39; a (f&#39; b&#39;)) =
coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
ap (transport (P (coeq (g b))) (cglue b&#39;))
  (cgluel b (f&#39; b&#39;)) @ cgluer (g b) b&#39; =
(transport_transport P (cglue b) 
   (cglue b&#39;) (coeq&#39; (f b) (f&#39; b&#39;)) @
 ap
   (transport
      (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
       P x (coeq (g&#39; b&#39;))) 
      (cglue b)) (cgluer (f b) b&#39;)) @
cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> : B&#39;,
transport (P (coeq a)) (cglue b)
  ((<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a a&#39;) (f&#39; b)) =
(<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a a&#39;) (g&#39; b)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkb8" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkb8"><span class="nb">intros</span> b&#39;; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>Coeq f g -&gt; Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">a&#39;</span> : A&#39;), P (coeq a) (coeq a&#39;)</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
transport (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt; P x (coeq a&#39;))
  (cglue b) (coeq&#39; (f b) a&#39;) = 
coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
transport
  (<span class="kr">fun</span> <span class="nv">y</span> : Coeq f&#39; g&#39; =&gt; P (coeq a) y)
  (cglue b&#39;) (coeq&#39; a (f&#39; b&#39;)) =
coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
ap (transport (P (coeq (g b))) (cglue b&#39;))
  (cgluel b (f&#39; b&#39;)) @ cgluer (g b) b&#39; =
(transport_transport P (cglue b) 
   (cglue b&#39;) (coeq&#39; (f b) (f&#39; b&#39;)) @
 ap
   (transport
      (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
       P x (coeq (g&#39; b&#39;))) 
      (cglue b)) (cgluer (f b) b&#39;)) @
cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>b'</var><span class="hyp-type"><b>: </b><span>B&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport (P (coeq a)) (cglue b&#39;) (coeq&#39; a (f&#39; b&#39;)) =
coeq&#39; a (g&#39; b&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> cgluer.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkb9" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkb9">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>Coeq f g -&gt; Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">a&#39;</span> : A&#39;), P (coeq a) (coeq a&#39;)</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
transport (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt; P x (coeq a&#39;))
  (cglue b) (coeq&#39; (f b) a&#39;) = 
coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
transport
  (<span class="kr">fun</span> <span class="nv">y</span> : Coeq f&#39; g&#39; =&gt; P (coeq a) y)
  (cglue b&#39;) (coeq&#39; a (f&#39; b&#39;)) =
coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
ap (transport (P (coeq (g b))) (cglue b&#39;))
  (cgluel b (f&#39; b&#39;)) @ cgluer (g b) b&#39; =
(transport_transport P (cglue b) 
   (cglue b&#39;) (coeq&#39; (f b) (f&#39; b&#39;)) @
 ap
   (transport
      (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
       P x (coeq (g&#39; b&#39;))) 
      (cglue b)) (cgluer (f b) b&#39;)) @
cgluel b (g&#39; b&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> : B,
transport
  (<span class="kr">fun</span> <span class="nv">w</span> : Coeq f g =&gt; <span class="kr">forall</span> <span class="nv">y</span> : Coeq f&#39; g&#39;, P w y)
  (cglue b)
  ((<span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
    Coeq_ind (P (coeq a)) (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a a&#39;)
      (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt;
       cgluer a b&#39;
       :
       transport (P (coeq a)) (cglue b&#39;)
         ((<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a a&#39;) (f&#39; b&#39;)) =
       (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a a&#39;) (g&#39; b&#39;))) (f b)) =
(<span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
 Coeq_ind (P (coeq a)) (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a a&#39;)
   (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt;
    cgluer a b&#39;
    :
    transport (P (coeq a)) (cglue b&#39;)
      ((<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a a&#39;) (f&#39; b&#39;)) =
    (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a a&#39;) (g&#39; b&#39;))) (g b)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkba" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkba"><span class="nb">intros</span> b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>Coeq f g -&gt; Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">a&#39;</span> : A&#39;), P (coeq a) (coeq a&#39;)</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
transport (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt; P x (coeq a&#39;))
  (cglue b) (coeq&#39; (f b) a&#39;) = 
coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
transport
  (<span class="kr">fun</span> <span class="nv">y</span> : Coeq f&#39; g&#39; =&gt; P (coeq a) y)
  (cglue b&#39;) (coeq&#39; a (f&#39; b&#39;)) =
coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
ap (transport (P (coeq (g b))) (cglue b&#39;))
  (cgluel b (f&#39; b&#39;)) @ cgluer (g b) b&#39; =
(transport_transport P (cglue b) 
   (cglue b&#39;) (coeq&#39; (f b) (f&#39; b&#39;)) @
 ap
   (transport
      (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
       P x (coeq (g&#39; b&#39;))) 
      (cglue b)) (cgluer (f b) b&#39;)) @
cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport
  (<span class="kr">fun</span> <span class="nv">w</span> : Coeq f g =&gt; <span class="kr">forall</span> <span class="nv">y</span> : Coeq f&#39; g&#39;, P w y)
  (cglue b)
  ((<span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
    Coeq_ind (P (coeq a)) (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a a&#39;)
      (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt;
       cgluer a b&#39;
       :
       transport (P (coeq a)) (cglue b&#39;)
         ((<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a a&#39;) (f&#39; b&#39;)) =
       (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a a&#39;) (g&#39; b&#39;))) (f b)) =
(<span class="kr">fun</span> <span class="nv">a</span> : A =&gt;
 Coeq_ind (P (coeq a)) (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a a&#39;)
   (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt;
    cgluer a b&#39;
    :
    transport (P (coeq a)) (cglue b&#39;)
      ((<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a a&#39;) (f&#39; b&#39;)) =
    (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; a a&#39;) (g&#39; b&#39;))) (g b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkbb" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkbb"><span class="nb">apply</span> path_forall; <span class="nb">intros</span> a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>Coeq f g -&gt; Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">a&#39;</span> : A&#39;), P (coeq a) (coeq a&#39;)</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
transport (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt; P x (coeq a&#39;))
  (cglue b) (coeq&#39; (f b) a&#39;) = 
coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
transport
  (<span class="kr">fun</span> <span class="nv">y</span> : Coeq f&#39; g&#39; =&gt; P (coeq a) y)
  (cglue b&#39;) (coeq&#39; a (f&#39; b&#39;)) =
coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
ap (transport (P (coeq (g b))) (cglue b&#39;))
  (cgluel b (f&#39; b&#39;)) @ cgluer (g b) b&#39; =
(transport_transport P (cglue b) 
   (cglue b&#39;) (coeq&#39; (f b) (f&#39; b&#39;)) @
 ap
   (transport
      (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
       P x (coeq (g&#39; b&#39;))) 
      (cglue b)) (cgluer (f b) b&#39;)) @
cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Coeq f&#39; g&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport
  (<span class="kr">fun</span> <span class="nv">w</span> : Coeq f g =&gt; <span class="kr">forall</span> <span class="nv">y</span> : Coeq f&#39; g&#39;, P w y)
  (cglue b)
  (Coeq_ind (P (coeq (f b)))
     (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; (f b) a&#39;)
     (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; cgluer (f b) b&#39;)) a =
Coeq_ind (P (coeq (g b)))
  (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; (g b) a&#39;)
  (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; cgluer (g b) b&#39;) a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkbc" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkbc"><span class="nb">revert</span> a; <span class="nb">simple refine</span> (Coeq_ind _ _ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>Coeq f g -&gt; Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">a&#39;</span> : A&#39;), P (coeq a) (coeq a&#39;)</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
transport (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt; P x (coeq a&#39;))
  (cglue b) (coeq&#39; (f b) a&#39;) = 
coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
transport
  (<span class="kr">fun</span> <span class="nv">y</span> : Coeq f&#39; g&#39; =&gt; P (coeq a) y)
  (cglue b&#39;) (coeq&#39; a (f&#39; b&#39;)) =
coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
ap (transport (P (coeq (g b))) (cglue b&#39;))
  (cgluel b (f&#39; b&#39;)) @ cgluer (g b) b&#39; =
(transport_transport P (cglue b) 
   (cglue b&#39;) (coeq&#39; (f b) (f&#39; b&#39;)) @
 ap
   (transport
      (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
       P x (coeq (g&#39; b&#39;))) 
      (cglue b)) (cgluer (f b) b&#39;)) @
cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A&#39;,
(<span class="kr">fun</span> <span class="nv">w</span> : Coeq f&#39; g&#39; =&gt;
 transport
   (<span class="kr">fun</span> <span class="nv">w0</span> : Coeq f g =&gt; <span class="kr">forall</span> <span class="nv">y</span> : Coeq f&#39; g&#39;, P w0 y)
   (cglue b)
   (Coeq_ind (P (coeq (f b)))
      (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; (f b) a&#39;)
      (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; cgluer (f b) b&#39;)) w =
 Coeq_ind (P (coeq (g b)))
   (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; (g b) a&#39;)
   (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; cgluer (g b) b&#39;) w) (coeq a)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="coeq-v-chkbd" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>Coeq f g -&gt; Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">a&#39;</span> : A&#39;), P (coeq a) (coeq a&#39;)</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
transport (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt; P x (coeq a&#39;))
  (cglue b) (coeq&#39; (f b) a&#39;) = 
coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
transport
  (<span class="kr">fun</span> <span class="nv">y</span> : Coeq f&#39; g&#39; =&gt; P (coeq a) y)
  (cglue b&#39;) (coeq&#39; a (f&#39; b&#39;)) =
coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
ap (transport (P (coeq (g b))) (cglue b&#39;))
  (cgluel b (f&#39; b&#39;)) @ cgluer (g b) b&#39; =
(transport_transport P (cglue b) 
   (cglue b&#39;) (coeq&#39; (f b) (f&#39; b&#39;)) @
 ap
   (transport
      (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
       P x (coeq (g&#39; b&#39;))) 
      (cglue b)) (cgluer (f b) b&#39;)) @
cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><label class="goal-separator" for="coeq-v-chkbd"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b0</span> : B&#39;,
transport
  (<span class="kr">fun</span> <span class="nv">w</span> : Coeq f&#39; g&#39; =&gt;
   transport
     (<span class="kr">fun</span> <span class="nv">w0</span> : Coeq f g =&gt;
      <span class="kr">forall</span> <span class="nv">y</span> : Coeq f&#39; g&#39;, P w0 y) 
     (cglue b)
     (Coeq_ind (P (coeq (f b)))
        (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; (f b) a&#39;)
        (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; cgluer (f b) b&#39;)) w =
   Coeq_ind (P (coeq (g b)))
     (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; (g b) a&#39;)
     (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; cgluer (g b) b&#39;) w) 
  (cglue b0) (<span class="nl">?coeq&#39;</span> (f&#39; b0)) = 
<span class="nl">?coeq&#39;</span> (g&#39; b0)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkbe" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkbe">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>Coeq f g -&gt; Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">a&#39;</span> : A&#39;), P (coeq a) (coeq a&#39;)</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
transport (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt; P x (coeq a&#39;))
  (cglue b) (coeq&#39; (f b) a&#39;) = 
coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
transport
  (<span class="kr">fun</span> <span class="nv">y</span> : Coeq f&#39; g&#39; =&gt; P (coeq a) y)
  (cglue b&#39;) (coeq&#39; a (f&#39; b&#39;)) =
coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
ap (transport (P (coeq (g b))) (cglue b&#39;))
  (cgluel b (f&#39; b&#39;)) @ cgluer (g b) b&#39; =
(transport_transport P (cglue b) 
   (cglue b&#39;) (coeq&#39; (f b) (f&#39; b&#39;)) @
 ap
   (transport
      (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
       P x (coeq (g&#39; b&#39;))) 
      (cglue b)) (cgluer (f b) b&#39;)) @
cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A&#39;,
(<span class="kr">fun</span> <span class="nv">w</span> : Coeq f&#39; g&#39; =&gt;
 transport
   (<span class="kr">fun</span> <span class="nv">w0</span> : Coeq f g =&gt; <span class="kr">forall</span> <span class="nv">y</span> : Coeq f&#39; g&#39;, P w0 y)
   (cglue b)
   (Coeq_ind (P (coeq (f b)))
      (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; (f b) a&#39;)
      (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; cgluer (f b) b&#39;)) w =
 Coeq_ind (P (coeq (g b)))
   (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; (g b) a&#39;)
   (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; cgluer (g b) b&#39;) w) (coeq a)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkbf" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkbf"><span class="nb">intros</span> a&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>Coeq f g -&gt; Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">a&#39;</span> : A&#39;), P (coeq a) (coeq a&#39;)</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
transport (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt; P x (coeq a&#39;))
  (cglue b) (coeq&#39; (f b) a&#39;) = 
coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
transport
  (<span class="kr">fun</span> <span class="nv">y</span> : Coeq f&#39; g&#39; =&gt; P (coeq a) y)
  (cglue b&#39;) (coeq&#39; a (f&#39; b&#39;)) =
coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
ap (transport (P (coeq (g b))) (cglue b&#39;))
  (cgluel b (f&#39; b&#39;)) @ cgluer (g b) b&#39; =
(transport_transport P (cglue b) 
   (cglue b&#39;) (coeq&#39; (f b) (f&#39; b&#39;)) @
 ap
   (transport
      (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
       P x (coeq (g&#39; b&#39;))) 
      (cglue b)) (cgluer (f b) b&#39;)) @
cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>a'</var><span class="hyp-type"><b>: </b><span>A&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">fun</span> <span class="nv">w</span> : Coeq f&#39; g&#39; =&gt;
 transport
   (<span class="kr">fun</span> <span class="nv">w0</span> : Coeq f g =&gt; <span class="kr">forall</span> <span class="nv">y</span> : Coeq f&#39; g&#39;, P w0 y)
   (cglue b)
   (Coeq_ind (P (coeq (f b)))
      (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; (f b) a&#39;)
      (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; cgluer (f b) b&#39;)) w =
 Coeq_ind (P (coeq (g b)))
   (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; (g b) a&#39;)
   (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; cgluer (g b) b&#39;) w) (coeq a&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkc0" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkc0"><span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>Coeq f g -&gt; Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">a&#39;</span> : A&#39;), P (coeq a) (coeq a&#39;)</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
transport (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt; P x (coeq a&#39;))
  (cglue b) (coeq&#39; (f b) a&#39;) = 
coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
transport
  (<span class="kr">fun</span> <span class="nv">y</span> : Coeq f&#39; g&#39; =&gt; P (coeq a) y)
  (cglue b&#39;) (coeq&#39; a (f&#39; b&#39;)) =
coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
ap (transport (P (coeq (g b))) (cglue b&#39;))
  (cgluel b (f&#39; b&#39;)) @ cgluer (g b) b&#39; =
(transport_transport P (cglue b) 
   (cglue b&#39;) (coeq&#39; (f b) (f&#39; b&#39;)) @
 ap
   (transport
      (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
       P x (coeq (g&#39; b&#39;))) 
      (cglue b)) (cgluer (f b) b&#39;)) @
cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>a'</var><span class="hyp-type"><b>: </b><span>A&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport
  (<span class="kr">fun</span> <span class="nv">w</span> : Coeq f g =&gt; <span class="kr">forall</span> <span class="nv">y</span> : Coeq f&#39; g&#39;, P w y)
  (cglue b)
  (Coeq_ind (P (coeq (f b)))
     (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; (f b) a&#39;)
     (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; cgluer (f b) b&#39;)) (coeq a&#39;) =
Coeq_ind (P (coeq (g b)))
  (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; (g b) a&#39;)
  (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; cgluer (g b) b&#39;) (coeq a&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkc1" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkc1"><span class="nb">refine</span> (transport_forall_constant _ _ _ @ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>Coeq f g -&gt; Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">a&#39;</span> : A&#39;), P (coeq a) (coeq a&#39;)</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
transport (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt; P x (coeq a&#39;))
  (cglue b) (coeq&#39; (f b) a&#39;) = 
coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
transport
  (<span class="kr">fun</span> <span class="nv">y</span> : Coeq f&#39; g&#39; =&gt; P (coeq a) y)
  (cglue b&#39;) (coeq&#39; a (f&#39; b&#39;)) =
coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
ap (transport (P (coeq (g b))) (cglue b&#39;))
  (cgluel b (f&#39; b&#39;)) @ cgluer (g b) b&#39; =
(transport_transport P (cglue b) 
   (cglue b&#39;) (coeq&#39; (f b) (f&#39; b&#39;)) @
 ap
   (transport
      (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
       P x (coeq (g&#39; b&#39;))) 
      (cglue b)) (cgluer (f b) b&#39;)) @
cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>a'</var><span class="hyp-type"><b>: </b><span>A&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt; P x (coeq a&#39;))
  (cglue b)
  (Coeq_ind (P (coeq (f b)))
     (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; (f b) a&#39;)
     (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; cgluer (f b) b&#39;) (coeq a&#39;)) =
Coeq_ind (P (coeq (g b)))
  (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; (g b) a&#39;)
  (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; cgluer (g b) b&#39;) (coeq a&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> cgluel.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkc2" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkc2">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>Coeq f g -&gt; Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">a&#39;</span> : A&#39;), P (coeq a) (coeq a&#39;)</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
transport (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt; P x (coeq a&#39;))
  (cglue b) (coeq&#39; (f b) a&#39;) = 
coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
transport
  (<span class="kr">fun</span> <span class="nv">y</span> : Coeq f&#39; g&#39; =&gt; P (coeq a) y)
  (cglue b&#39;) (coeq&#39; a (f&#39; b&#39;)) =
coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
ap (transport (P (coeq (g b))) (cglue b&#39;))
  (cgluel b (f&#39; b&#39;)) @ cgluer (g b) b&#39; =
(transport_transport P (cglue b) 
   (cglue b&#39;) (coeq&#39; (f b) (f&#39; b&#39;)) @
 ap
   (transport
      (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
       P x (coeq (g&#39; b&#39;))) 
      (cglue b)) (cgluer (f b) b&#39;)) @
cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b0</span> : B&#39;,
transport
  (<span class="kr">fun</span> <span class="nv">w</span> : Coeq f&#39; g&#39; =&gt;
   transport
     (<span class="kr">fun</span> <span class="nv">w0</span> : Coeq f g =&gt;
      <span class="kr">forall</span> <span class="nv">y</span> : Coeq f&#39; g&#39;, P w0 y) (cglue b)
     (Coeq_ind (P (coeq (f b)))
        (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; (f b) a&#39;)
        (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; cgluer (f b) b&#39;)) w =
   Coeq_ind (P (coeq (g b)))
     (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; (g b) a&#39;)
     (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; cgluer (g b) b&#39;) w) (cglue b0)
  ((<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt;
    transport_forall_constant (cglue b)
      (Coeq_ind (P (coeq (f b)))
         (<span class="kr">fun</span> <span class="nv">a&#39;0</span> : A&#39; =&gt; coeq&#39; (f b) a&#39;0)
         (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; cgluer (f b) b&#39;)) (coeq a&#39;) @
    cgluel b a&#39;
    :
    (<span class="kr">fun</span> <span class="nv">w</span> : Coeq f&#39; g&#39; =&gt;
     transport
       (<span class="kr">fun</span> <span class="nv">w0</span> : Coeq f g =&gt;
        <span class="kr">forall</span> <span class="nv">y</span> : Coeq f&#39; g&#39;, P w0 y) (cglue b)
       (Coeq_ind (P (coeq (f b)))
          (<span class="kr">fun</span> <span class="nv">a&#39;0</span> : A&#39; =&gt; coeq&#39; (f b) a&#39;0)
          (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; cgluer (f b) b&#39;)) w =
     Coeq_ind (P (coeq (g b)))
       (<span class="kr">fun</span> <span class="nv">a&#39;0</span> : A&#39; =&gt; coeq&#39; (g b) a&#39;0)
       (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; cgluer (g b) b&#39;) w) (coeq a&#39;))
     (f&#39; b0)) =
(<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt;
 transport_forall_constant (cglue b)
   (Coeq_ind (P (coeq (f b)))
      (<span class="kr">fun</span> <span class="nv">a&#39;0</span> : A&#39; =&gt; coeq&#39; (f b) a&#39;0)
      (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; cgluer (f b) b&#39;)) (coeq a&#39;) @
 cgluel b a&#39;
 :
 (<span class="kr">fun</span> <span class="nv">w</span> : Coeq f&#39; g&#39; =&gt;
  transport
    (<span class="kr">fun</span> <span class="nv">w0</span> : Coeq f g =&gt;
     <span class="kr">forall</span> <span class="nv">y</span> : Coeq f&#39; g&#39;, P w0 y) (cglue b)
    (Coeq_ind (P (coeq (f b)))
       (<span class="kr">fun</span> <span class="nv">a&#39;0</span> : A&#39; =&gt; coeq&#39; (f b) a&#39;0)
       (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; cgluer (f b) b&#39;)) w =
  Coeq_ind (P (coeq (g b)))
    (<span class="kr">fun</span> <span class="nv">a&#39;0</span> : A&#39; =&gt; coeq&#39; (g b) a&#39;0)
    (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; cgluer (g b) b&#39;) w) (coeq a&#39;))
  (g&#39; b0)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkc3" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkc3"><span class="nb">intros</span> b&#39;; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>Coeq f g -&gt; Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">a&#39;</span> : A&#39;), P (coeq a) (coeq a&#39;)</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
transport (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt; P x (coeq a&#39;))
  (cglue b) (coeq&#39; (f b) a&#39;) = 
coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
transport
  (<span class="kr">fun</span> <span class="nv">y</span> : Coeq f&#39; g&#39; =&gt; P (coeq a) y)
  (cglue b&#39;) (coeq&#39; a (f&#39; b&#39;)) =
coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
ap (transport (P (coeq (g b))) (cglue b&#39;))
  (cgluel b (f&#39; b&#39;)) @ cgluer (g b) b&#39; =
(transport_transport P (cglue b) 
   (cglue b&#39;) (coeq&#39; (f b) (f&#39; b&#39;)) @
 ap
   (transport
      (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
       P x (coeq (g&#39; b&#39;))) 
      (cglue b)) (cgluer (f b) b&#39;)) @
cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>b'</var><span class="hyp-type"><b>: </b><span>B&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport
  (<span class="kr">fun</span> <span class="nv">w</span> : Coeq f&#39; g&#39; =&gt;
   transport
     (<span class="kr">fun</span> <span class="nv">w0</span> : Coeq f g =&gt;
      <span class="kr">forall</span> <span class="nv">y</span> : Coeq f&#39; g&#39;, P w0 y) (cglue b)
     (Coeq_ind (P (coeq (f b)))
        (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; (f b) a&#39;)
        (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; cgluer (f b) b&#39;)) w =
   Coeq_ind (P (coeq (g b)))
     (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; (g b) a&#39;)
     (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; cgluer (g b) b&#39;) w) (cglue b&#39;)
  (transport_forall_constant (cglue b)
     (Coeq_ind (P (coeq (f b)))
        (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; (f b) a&#39;)
        (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; cgluer (f b) b&#39;))
     (coeq (f&#39; b&#39;)) @ cgluel b (f&#39; b&#39;)) =
transport_forall_constant (cglue b)
  (Coeq_ind (P (coeq (f b)))
     (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; (f b) a&#39;)
     (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; cgluer (f b) b&#39;)) (coeq (g&#39; b&#39;)) @
cgluel b (g&#39; b&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkc4" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkc4"><span class="nb">refine</span> (transport_paths_FlFr_D (cglue b&#39;) _ @ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>Coeq f g -&gt; Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">a&#39;</span> : A&#39;), P (coeq a) (coeq a&#39;)</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
transport (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt; P x (coeq a&#39;))
  (cglue b) (coeq&#39; (f b) a&#39;) = 
coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
transport
  (<span class="kr">fun</span> <span class="nv">y</span> : Coeq f&#39; g&#39; =&gt; P (coeq a) y)
  (cglue b&#39;) (coeq&#39; a (f&#39; b&#39;)) =
coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
ap (transport (P (coeq (g b))) (cglue b&#39;))
  (cgluel b (f&#39; b&#39;)) @ cgluer (g b) b&#39; =
(transport_transport P (cglue b) 
   (cglue b&#39;) (coeq&#39; (f b) (f&#39; b&#39;)) @
 ap
   (transport
      (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
       P x (coeq (g&#39; b&#39;))) 
      (cglue b)) (cgluer (f b) b&#39;)) @
cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>b'</var><span class="hyp-type"><b>: </b><span>B&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((apD
    (transport
       (<span class="kr">fun</span> <span class="nv">w</span> : Coeq f g =&gt;
        <span class="kr">forall</span> <span class="nv">y</span> : Coeq f&#39; g&#39;, P w y) (cglue b)
       (Coeq_ind (P (coeq (f b)))
          (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; (f b) a&#39;)
          (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; cgluer (f b) b&#39;)))
    (cglue b&#39;))^ @
 ap (transport (P (coeq (g b))) (cglue b&#39;))
   (transport_forall_constant (cglue b)
      (Coeq_ind (P (coeq (f b)))
         (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; (f b) a&#39;)
         (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; cgluer (f b) b&#39;))
      (coeq (f&#39; b&#39;)) @ cgluel b (f&#39; b&#39;))) @
apD
  (Coeq_ind (P (coeq (g b)))
     (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; (g b) a&#39;)
     (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; cgluer (g b) b&#39;)) (cglue b&#39;) =
transport_forall_constant (cglue b)
  (Coeq_ind (P (coeq (f b)))
     (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; (f b) a&#39;)
     (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; cgluer (f b) b&#39;)) (coeq (g&#39; b&#39;)) @
cgluel b (g&#39; b&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkc5" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkc5"><span class="nb">rewrite</span> Coeq_ind_beta_cglue.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>Coeq f g -&gt; Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">a&#39;</span> : A&#39;), P (coeq a) (coeq a&#39;)</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
transport (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt; P x (coeq a&#39;))
  (cglue b) (coeq&#39; (f b) a&#39;) = 
coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
transport
  (<span class="kr">fun</span> <span class="nv">y</span> : Coeq f&#39; g&#39; =&gt; P (coeq a) y)
  (cglue b&#39;) (coeq&#39; a (f&#39; b&#39;)) =
coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
ap (transport (P (coeq (g b))) (cglue b&#39;))
  (cgluel b (f&#39; b&#39;)) @ cgluer (g b) b&#39; =
(transport_transport P (cglue b) 
   (cglue b&#39;) (coeq&#39; (f b) (f&#39; b&#39;)) @
 ap
   (transport
      (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
       P x (coeq (g&#39; b&#39;))) 
      (cglue b)) (cgluer (f b) b&#39;)) @
cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>b'</var><span class="hyp-type"><b>: </b><span>B&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((apD
    (transport
       (<span class="kr">fun</span> <span class="nv">w</span> : Coeq f g =&gt;
        <span class="kr">forall</span> <span class="nv">y</span> : Coeq f&#39; g&#39;, P w y) (cglue b)
       (Coeq_ind (P (coeq (f b)))
          (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; (f b) a&#39;)
          (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; cgluer (f b) b&#39;)))
    (cglue b&#39;))^ @
 ap (transport (P (coeq (g b))) (cglue b&#39;))
   (transport_forall_constant (cglue b)
      (Coeq_ind (P (coeq (f b)))
         (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; (f b) a&#39;)
         (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; cgluer (f b) b&#39;))
      (coeq (f&#39; b&#39;)) @ cgluel b (f&#39; b&#39;))) @
cgluer (g b) b&#39; =
transport_forall_constant (cglue b)
  (Coeq_ind (P (coeq (f b)))
     (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; (f b) a&#39;)
     (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; cgluer (f b) b&#39;)) (coeq (g&#39; b&#39;)) @
cgluel b (g&#39; b&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        <span class="sd">(** Now begins the long haul. *)</span>
</span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkc6" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkc6"><span class="kn">Open Scope</span> long_path_scope.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>Coeq f g -&gt; Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">a&#39;</span> : A&#39;), P (coeq a) (coeq a&#39;)</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
transport (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt; P x (coeq a&#39;))
  (cglue b) (coeq&#39; (f b) a&#39;) = 
coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
transport
  (<span class="kr">fun</span> <span class="nv">y</span> : Coeq f&#39; g&#39; =&gt; P (coeq a) y)
  (cglue b&#39;) (coeq&#39; a (f&#39; b&#39;)) =
coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
ap (transport (P (coeq (g b))) (cglue b&#39;))
  (cgluel b (f&#39; b&#39;))
@&#39; cgluer (g b) b&#39; =
transport_transport P (cglue b) 
  (cglue b&#39;) (coeq&#39; (f b) (f&#39; b&#39;))
@&#39; ap
     (transport
        (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
         P x (coeq (g&#39; b&#39;))) 
        (cglue b)) (cgluer (f b) b&#39;)
@&#39; cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>b'</var><span class="hyp-type"><b>: </b><span>B&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(apD
   (transport
      (<span class="kr">fun</span> <span class="nv">w</span> : Coeq f g =&gt;
       <span class="kr">forall</span> <span class="nv">y</span> : Coeq f&#39; g&#39;, P w y) (cglue b)
      (Coeq_ind (P (coeq (f b)))
         (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; (f b) a&#39;)
         (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; cgluer (f b) b&#39;))) (cglue b&#39;))^
@&#39; ap (transport (P (coeq (g b))) (cglue b&#39;))
     (transport_forall_constant (cglue b)
        (Coeq_ind (P (coeq (f b)))
           (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; (f b) a&#39;)
           (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; cgluer (f b) b&#39;))
        (coeq (f&#39; b&#39;))
      @&#39; cgluel b (f&#39; b&#39;))
@&#39; cgluer (g b) b&#39; =
transport_forall_constant (cglue b)
  (Coeq_ind (P (coeq (f b)))
     (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; (f b) a&#39;)
     (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; cgluer (f b) b&#39;)) (coeq (g&#39; b&#39;))
@&#39; cgluel b (g&#39; b&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkc7" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkc7"><span class="nb">rewrite</span> ap_pp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>Coeq f g -&gt; Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">a&#39;</span> : A&#39;), P (coeq a) (coeq a&#39;)</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
transport (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt; P x (coeq a&#39;))
  (cglue b) (coeq&#39; (f b) a&#39;) = 
coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
transport
  (<span class="kr">fun</span> <span class="nv">y</span> : Coeq f&#39; g&#39; =&gt; P (coeq a) y)
  (cglue b&#39;) (coeq&#39; a (f&#39; b&#39;)) =
coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
ap (transport (P (coeq (g b))) (cglue b&#39;))
  (cgluel b (f&#39; b&#39;))
@&#39; cgluer (g b) b&#39; =
transport_transport P (cglue b) 
  (cglue b&#39;) (coeq&#39; (f b) (f&#39; b&#39;))
@&#39; ap
     (transport
        (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
         P x (coeq (g&#39; b&#39;))) 
        (cglue b)) (cgluer (f b) b&#39;)
@&#39; cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>b'</var><span class="hyp-type"><b>: </b><span>B&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(apD
   (transport
      (<span class="kr">fun</span> <span class="nv">w</span> : Coeq f g =&gt;
       <span class="kr">forall</span> <span class="nv">y</span> : Coeq f&#39; g&#39;, P w y) (cglue b)
      (Coeq_ind (P (coeq (f b)))
         (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; (f b) a&#39;)
         (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; cgluer (f b) b&#39;))) (cglue b&#39;))^
@&#39; (ap (transport (P (coeq (g b))) (cglue b&#39;))
      (transport_forall_constant (cglue b)
         (Coeq_ind (P (coeq (f b)))
            (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; (f b) a&#39;)
            (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; cgluer (f b) b&#39;))
         (coeq (f&#39; b&#39;)))
    @&#39; ap (transport (P (coeq (g b))) (cglue b&#39;))
         (cgluel b (f&#39; b&#39;)))
@&#39; cgluer (g b) b&#39; =
transport_forall_constant (cglue b)
  (Coeq_ind (P (coeq (f b)))
     (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; (f b) a&#39;)
     (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; cgluer (f b) b&#39;)) (coeq (g&#39; b&#39;))
@&#39; cgluel b (g&#39; b&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkc8" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkc8"><span class="kp">repeat</span> <span class="nb">rewrite</span> concat_p_pp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>Coeq f g -&gt; Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">a&#39;</span> : A&#39;), P (coeq a) (coeq a&#39;)</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
transport (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt; P x (coeq a&#39;))
  (cglue b) (coeq&#39; (f b) a&#39;) = 
coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
transport
  (<span class="kr">fun</span> <span class="nv">y</span> : Coeq f&#39; g&#39; =&gt; P (coeq a) y)
  (cglue b&#39;) (coeq&#39; a (f&#39; b&#39;)) =
coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
ap (transport (P (coeq (g b))) (cglue b&#39;))
  (cgluel b (f&#39; b&#39;))
@&#39; cgluer (g b) b&#39; =
transport_transport P (cglue b) 
  (cglue b&#39;) (coeq&#39; (f b) (f&#39; b&#39;))
@&#39; ap
     (transport
        (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
         P x (coeq (g&#39; b&#39;))) 
        (cglue b)) (cgluer (f b) b&#39;)
@&#39; cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>b'</var><span class="hyp-type"><b>: </b><span>B&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(apD
   (transport
      (<span class="kr">fun</span> <span class="nv">w</span> : Coeq f g =&gt;
       <span class="kr">forall</span> <span class="nv">y</span> : Coeq f&#39; g&#39;, P w y) (cglue b)
      (Coeq_ind (P (coeq (f b)))
         (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; (f b) a&#39;)
         (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; cgluer (f b) b&#39;))) (cglue b&#39;))^
@&#39; ap (transport (P (coeq (g b))) (cglue b&#39;))
     (transport_forall_constant (cglue b)
        (Coeq_ind (P (coeq (f b)))
           (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; (f b) a&#39;)
           (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; cgluer (f b) b&#39;))
        (coeq (f&#39; b&#39;)))
@&#39; ap (transport (P (coeq (g b))) (cglue b&#39;))
     (cgluel b (f&#39; b&#39;))
@&#39; cgluer (g b) b&#39; =
transport_forall_constant (cglue b)
  (Coeq_ind (P (coeq (f b)))
     (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; (f b) a&#39;)
     (<span class="kr">fun</span> <span class="nv">b&#39;</span> : B&#39; =&gt; cgluer (f b) b&#39;)) (coeq (g&#39; b&#39;))
@&#39; cgluel b (g&#39; b&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        <span class="sd">(** Our first order of business is to get rid of the [Coeq_ind]s, which only occur in the following incarnation. *)</span>
</span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkc9" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkc9"><span class="nb">set</span> (G := (Coeq_ind (P (coeq (f b)))
                            (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; (f b) a&#39;)
                            (<span class="kr">fun</span> <span class="nv">b&#39;0</span> : B&#39; =&gt; cgluer (f b) b&#39;0))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>Coeq f g -&gt; Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">a&#39;</span> : A&#39;), P (coeq a) (coeq a&#39;)</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
transport (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt; P x (coeq a&#39;))
  (cglue b) (coeq&#39; (f b) a&#39;) = 
coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
transport
  (<span class="kr">fun</span> <span class="nv">y</span> : Coeq f&#39; g&#39; =&gt; P (coeq a) y)
  (cglue b&#39;) (coeq&#39; a (f&#39; b&#39;)) =
coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
ap (transport (P (coeq (g b))) (cglue b&#39;))
  (cgluel b (f&#39; b&#39;))
@&#39; cgluer (g b) b&#39; =
transport_transport P (cglue b) 
  (cglue b&#39;) (coeq&#39; (f b) (f&#39; b&#39;))
@&#39; ap
     (transport
        (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
         P x (coeq (g&#39; b&#39;))) 
        (cglue b)) (cgluer (f b) b&#39;)
@&#39; cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>b'</var><span class="hyp-type"><b>: </b><span>B&#39;</span></span></span><br><span><var>G</var><span><span class="hyp-body"><b>:= </b><span>Coeq_ind (P (coeq (f b)))
  (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; (f b) a&#39;)
  (<span class="kr">fun</span> <span class="nv">b&#39;0</span> : B&#39; =&gt; cgluer (f b) b&#39;0)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">w</span> : Coeq f&#39; g&#39;, P (coeq (f b)) w</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(apD
   (transport
      (<span class="kr">fun</span> <span class="nv">w</span> : Coeq f g =&gt;
       <span class="kr">forall</span> <span class="nv">y</span> : Coeq f&#39; g&#39;, P w y) (cglue b) G)
   (cglue b&#39;))^
@&#39; ap (transport (P (coeq (g b))) (cglue b&#39;))
     (transport_forall_constant (cglue b) G
        (coeq (f&#39; b&#39;)))
@&#39; ap (transport (P (coeq (g b))) (cglue b&#39;))
     (cgluel b (f&#39; b&#39;))
@&#39; cgluer (g b) b&#39; =
transport_forall_constant (cglue b) G (coeq (g&#39; b&#39;))
@&#39; cgluel b (g&#39; b&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        <span class="sd">(** Let&#39;s reduce the [apD (loop # G)] first. *)</span>
</span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkca" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkca"><span class="nb">rewrite</span> (apD_transport_forall_constant P (cglue b) G (cglue b&#39;)); <span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>Coeq f g -&gt; Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">a&#39;</span> : A&#39;), P (coeq a) (coeq a&#39;)</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
transport (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt; P x (coeq a&#39;))
  (cglue b) (coeq&#39; (f b) a&#39;) = 
coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
transport
  (<span class="kr">fun</span> <span class="nv">y</span> : Coeq f&#39; g&#39; =&gt; P (coeq a) y)
  (cglue b&#39;) (coeq&#39; a (f&#39; b&#39;)) =
coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
ap (transport (P (coeq (g b))) (cglue b&#39;))
  (cgluel b (f&#39; b&#39;))
@&#39; cgluer (g b) b&#39; =
transport_transport P (cglue b) 
  (cglue b&#39;) (coeq&#39; (f b) (f&#39; b&#39;))
@&#39; ap
     (transport
        (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
         P x (coeq (g&#39; b&#39;))) 
        (cglue b)) (cgluer (f b) b&#39;)
@&#39; cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>b'</var><span class="hyp-type"><b>: </b><span>B&#39;</span></span></span><br><span><var>G</var><span><span class="hyp-body"><b>:= </b><span>Coeq_ind (P (coeq (f b)))
  (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; (f b) a&#39;)
  (<span class="kr">fun</span> <span class="nv">b&#39;0</span> : B&#39; =&gt; cgluer (f b) b&#39;0)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">w</span> : Coeq f&#39; g&#39;, P (coeq (f b)) w</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(ap (transport (P (coeq (g b))) (cglue b&#39;))
   (transport_forall_constant (cglue b) G
      (coeq (f&#39; b&#39;)))
 @&#39; transport_transport P (cglue b) (cglue b&#39;)
      (coeq&#39; (f b) (f&#39; b&#39;))
 @&#39; ap
      (transport
         (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt; P x (coeq (g&#39; b&#39;)))
         (cglue b)) (apD G (cglue b&#39;))
 @&#39; (transport_forall_constant (cglue b) G
       (coeq (g&#39; b&#39;)))^)^
@&#39; ap (transport (P (coeq (g b))) (cglue b&#39;))
     (transport_forall_constant (cglue b) G
        (coeq (f&#39; b&#39;)))
@&#39; ap (transport (P (coeq (g b))) (cglue b&#39;))
     (cgluel b (f&#39; b&#39;))
@&#39; cgluer (g b) b&#39; =
transport_forall_constant (cglue b) G (coeq (g&#39; b&#39;))
@&#39; cgluel b (g&#39; b&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkcb" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkcb"><span class="nb">rewrite</span> !inv_pp, !inv_V.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>Coeq f g -&gt; Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">a&#39;</span> : A&#39;), P (coeq a) (coeq a&#39;)</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
transport (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt; P x (coeq a&#39;))
  (cglue b) (coeq&#39; (f b) a&#39;) = 
coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
transport
  (<span class="kr">fun</span> <span class="nv">y</span> : Coeq f&#39; g&#39; =&gt; P (coeq a) y)
  (cglue b&#39;) (coeq&#39; a (f&#39; b&#39;)) =
coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
ap (transport (P (coeq (g b))) (cglue b&#39;))
  (cgluel b (f&#39; b&#39;))
@&#39; cgluer (g b) b&#39; =
transport_transport P (cglue b) 
  (cglue b&#39;) (coeq&#39; (f b) (f&#39; b&#39;))
@&#39; ap
     (transport
        (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
         P x (coeq (g&#39; b&#39;))) 
        (cglue b)) (cgluer (f b) b&#39;)
@&#39; cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>b'</var><span class="hyp-type"><b>: </b><span>B&#39;</span></span></span><br><span><var>G</var><span><span class="hyp-body"><b>:= </b><span>Coeq_ind (P (coeq (f b)))
  (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; (f b) a&#39;)
  (<span class="kr">fun</span> <span class="nv">b&#39;0</span> : B&#39; =&gt; cgluer (f b) b&#39;0)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">w</span> : Coeq f&#39; g&#39;, P (coeq (f b)) w</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport_forall_constant (cglue b) G (coeq (g&#39; b&#39;))
@&#39; ((ap
       (transport
          (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt; P x (coeq (g&#39; b&#39;)))
          (cglue b)) (apD G (cglue b&#39;)))^
    @&#39; ((transport_transport P (cglue b) (cglue b&#39;)
           (coeq&#39; (f b) (f&#39; b&#39;)))^
        @&#39; (ap (transport (P (coeq (g b))) (cglue b&#39;))
              (transport_forall_constant (cglue b) G
                 (coeq (f&#39; b&#39;))))^))
@&#39; ap (transport (P (coeq (g b))) (cglue b&#39;))
     (transport_forall_constant (cglue b) G
        (coeq (f&#39; b&#39;)))
@&#39; ap (transport (P (coeq (g b))) (cglue b&#39;))
     (cgluel b (f&#39; b&#39;))
@&#39; cgluer (g b) b&#39; =
transport_forall_constant (cglue b) G (coeq (g&#39; b&#39;))
@&#39; cgluel b (g&#39; b&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        <span class="sd">(** Now we can cancel a [transport_forall_constant]. *)</span>
</span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkcc" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkcc"><span class="nb">rewrite</span> !concat_pp_p; <span class="nb">apply</span> whiskerL.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>Coeq f g -&gt; Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">a&#39;</span> : A&#39;), P (coeq a) (coeq a&#39;)</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
transport (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt; P x (coeq a&#39;))
  (cglue b) (coeq&#39; (f b) a&#39;) = 
coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
transport
  (<span class="kr">fun</span> <span class="nv">y</span> : Coeq f&#39; g&#39; =&gt; P (coeq a) y)
  (cglue b&#39;) (coeq&#39; a (f&#39; b&#39;)) =
coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
ap (transport (P (coeq (g b))) (cglue b&#39;))
  (cgluel b (f&#39; b&#39;))
@&#39; cgluer (g b) b&#39; =
transport_transport P (cglue b) 
  (cglue b&#39;) (coeq&#39; (f b) (f&#39; b&#39;))
@&#39; ap
     (transport
        (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
         P x (coeq (g&#39; b&#39;))) 
        (cglue b)) (cgluer (f b) b&#39;)
@&#39; cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>b'</var><span class="hyp-type"><b>: </b><span>B&#39;</span></span></span><br><span><var>G</var><span><span class="hyp-body"><b>:= </b><span>Coeq_ind (P (coeq (f b)))
  (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; (f b) a&#39;)
  (<span class="kr">fun</span> <span class="nv">b&#39;0</span> : B&#39; =&gt; cgluer (f b) b&#39;0)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">w</span> : Coeq f&#39; g&#39;, P (coeq (f b)) w</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(ap
   (transport (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt; P x (coeq (g&#39; b&#39;)))
      (cglue b)) (apD G (cglue b&#39;)))^
@&#39; ((transport_transport P (cglue b) (cglue b&#39;)
       (coeq&#39; (f b) (f&#39; b&#39;)))^
    @&#39; ((ap (transport (P (coeq (g b))) (cglue b&#39;))
           (transport_forall_constant (cglue b) G
              (coeq (f&#39; b&#39;))))^
        @&#39; (ap (transport (P (coeq (g b))) (cglue b&#39;))
              (transport_forall_constant (cglue b) G
                 (coeq (f&#39; b&#39;)))
            @&#39; (ap
                  (transport (P (coeq (g b)))
                     (cglue b&#39;)) (cgluel b (f&#39; b&#39;))
                @&#39; cgluer (g b) b&#39;)))) =
cgluel b (g&#39; b&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        <span class="sd">(** And a path-inverse pair.  This removes all the [transport_forall_constant]s. *)</span>
</span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkcd" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkcd"><span class="nb">rewrite</span> !concat_p_pp, concat_pV_p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>Coeq f g -&gt; Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">a&#39;</span> : A&#39;), P (coeq a) (coeq a&#39;)</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
transport (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt; P x (coeq a&#39;))
  (cglue b) (coeq&#39; (f b) a&#39;) = 
coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
transport
  (<span class="kr">fun</span> <span class="nv">y</span> : Coeq f&#39; g&#39; =&gt; P (coeq a) y)
  (cglue b&#39;) (coeq&#39; a (f&#39; b&#39;)) =
coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
ap (transport (P (coeq (g b))) (cglue b&#39;))
  (cgluel b (f&#39; b&#39;))
@&#39; cgluer (g b) b&#39; =
transport_transport P (cglue b) 
  (cglue b&#39;) (coeq&#39; (f b) (f&#39; b&#39;))
@&#39; ap
     (transport
        (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
         P x (coeq (g&#39; b&#39;))) 
        (cglue b)) (cgluer (f b) b&#39;)
@&#39; cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>b'</var><span class="hyp-type"><b>: </b><span>B&#39;</span></span></span><br><span><var>G</var><span><span class="hyp-body"><b>:= </b><span>Coeq_ind (P (coeq (f b)))
  (<span class="kr">fun</span> <span class="nv">a&#39;</span> : A&#39; =&gt; coeq&#39; (f b) a&#39;)
  (<span class="kr">fun</span> <span class="nv">b&#39;0</span> : B&#39; =&gt; cgluer (f b) b&#39;0)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">w</span> : Coeq f&#39; g&#39;, P (coeq (f b)) w</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(ap
   (transport (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt; P x (coeq (g&#39; b&#39;)))
      (cglue b)) (apD G (cglue b&#39;)))^
@&#39; (transport_transport P (cglue b) (cglue b&#39;)
      (coeq&#39; (f b) (f&#39; b&#39;)))^
@&#39; ap (transport (P (coeq (g b))) (cglue b&#39;))
     (cgluel b (f&#39; b&#39;))
@&#39; cgluer (g b) b&#39; = cgluel b (g&#39; b&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        <span class="sd">(** Now we can beta-reduce the last remaining [G]. *)</span>
</span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkce" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkce"><span class="nb">subst</span> G; <span class="nb">rewrite</span> Coeq_ind_beta_cglue; <span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>Coeq f g -&gt; Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">a&#39;</span> : A&#39;), P (coeq a) (coeq a&#39;)</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
transport (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt; P x (coeq a&#39;))
  (cglue b) (coeq&#39; (f b) a&#39;) = 
coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
transport
  (<span class="kr">fun</span> <span class="nv">y</span> : Coeq f&#39; g&#39; =&gt; P (coeq a) y)
  (cglue b&#39;) (coeq&#39; a (f&#39; b&#39;)) =
coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
ap (transport (P (coeq (g b))) (cglue b&#39;))
  (cgluel b (f&#39; b&#39;))
@&#39; cgluer (g b) b&#39; =
transport_transport P (cglue b) 
  (cglue b&#39;) (coeq&#39; (f b) (f&#39; b&#39;))
@&#39; ap
     (transport
        (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
         P x (coeq (g&#39; b&#39;))) 
        (cglue b)) (cgluer (f b) b&#39;)
@&#39; cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>b'</var><span class="hyp-type"><b>: </b><span>B&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(ap
   (transport (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt; P x (coeq (g&#39; b&#39;)))
      (cglue b)) (cgluer (f b) b&#39;))^
@&#39; (transport_transport P (cglue b) (cglue b&#39;)
      (coeq&#39; (f b) (f&#39; b&#39;)))^
@&#39; ap (transport (P (coeq (g b))) (cglue b&#39;))
     (cgluel b (f&#39; b&#39;))
@&#39; cgluer (g b) b&#39; = cgluel b (g&#39; b&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        <span class="sd">(** Now we just have to rearrange it a bit. *)</span>
</span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkcf" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkcf"><span class="nb">rewrite</span> !concat_pp_p; <span class="kp">do</span> <span class="mi">2</span> <span class="nb">apply</span> moveR_Vp; <span class="nb">rewrite</span> !concat_p_pp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Funext</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>B', A'</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f', g'</var><span class="hyp-type"><b>: </b><span>B&#39; -&gt; A&#39;</span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>Coeq f g -&gt; Coeq f&#39; g&#39; -&gt; <span class="kt">Type</span></span></span></span><br><span><var>coeq'</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">a&#39;</span> : A&#39;), P (coeq a) (coeq a&#39;)</span></span></span><br><span><var>cgluel</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">a&#39;</span> : A&#39;),
transport (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt; P x (coeq a&#39;))
  (cglue b) (coeq&#39; (f b) a&#39;) = 
coeq&#39; (g b) a&#39;</span></span></span><br><span><var>cgluer</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">a</span> : A) (<span class="nv">b&#39;</span> : B&#39;),
transport
  (<span class="kr">fun</span> <span class="nv">y</span> : Coeq f&#39; g&#39; =&gt; P (coeq a) y)
  (cglue b&#39;) (coeq&#39; a (f&#39; b&#39;)) =
coeq&#39; a (g&#39; b&#39;)</span></span></span><br><span><var>cgluelr</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">b</span> : B) (<span class="nv">b&#39;</span> : B&#39;),
ap (transport (P (coeq (g b))) (cglue b&#39;))
  (cgluel b (f&#39; b&#39;))
@&#39; cgluer (g b) b&#39; =
transport_transport P (cglue b) 
  (cglue b&#39;) (coeq&#39; (f b) (f&#39; b&#39;))
@&#39; ap
     (transport
        (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt;
         P x (coeq (g&#39; b&#39;))) 
        (cglue b)) (cgluer (f b) b&#39;)
@&#39; cgluel b (g&#39; b&#39;)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>b'</var><span class="hyp-type"><b>: </b><span>B&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap (transport (P (coeq (g b))) (cglue b&#39;))
  (cgluel b (f&#39; b&#39;))
@&#39; cgluer (g b) b&#39; =
transport_transport P (cglue b) (cglue b&#39;)
  (coeq&#39; (f b) (f&#39; b&#39;))
@&#39; ap
     (transport
        (<span class="kr">fun</span> <span class="nv">x</span> : Coeq f g =&gt; P x (coeq (g&#39; b&#39;)))
        (cglue b)) (cgluer (f b) b&#39;)
@&#39; cgluel b (g&#39; b&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> cgluelr.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Close Scope</span> long_path_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">CoeqInd2</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** Symmetry *)</span>

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">Coeq_sym_map</span> {<span class="nv">B</span> <span class="nv">A</span>} (<span class="nv">f</span> <span class="nv">g</span> : B -&gt; A) : Coeq f g -&gt; Coeq g f :=
  Coeq_rec (Coeq g f) coeq (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; (cglue b)^).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkd0" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkd0"><span class="kn">Lemma</span> <span class="nf">sect_Coeq_sym_map</span> {<span class="nv">B</span> <span class="nv">A</span>} {<span class="nv">f</span> <span class="nv">g</span> : B -&gt; A}
  : (Coeq_sym_map f g) o (Coeq_sym_map g f) == idmap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Coeq_sym_map f g o Coeq_sym_map g f == idmap</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkd1" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkd1"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Coeq_sym_map f g o Coeq_sym_map g f == idmap</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkd2" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkd2">srapply @Coeq_ind.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A,
(<span class="kr">fun</span> <span class="nv">w</span> : Coeq g f =&gt;
 (Coeq_sym_map f g o Coeq_sym_map g f) w = idmap w)
  (coeq a)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="coeq-v-chkd3" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br></div><label class="goal-separator" for="coeq-v-chkd3"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> : B,
transport
  (<span class="kr">fun</span> <span class="nv">w</span> : Coeq g f =&gt;
   (Coeq_sym_map f g o Coeq_sym_map g f) w = idmap w)
  (cglue b) (<span class="nl">?coeq&#39;</span> (g b)) = <span class="nl">?coeq&#39;</span> (f b)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkd4" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkd4">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A,
(<span class="kr">fun</span> <span class="nv">w</span> : Coeq g f =&gt;
 (Coeq_sym_map f g o Coeq_sym_map g f) w = idmap w)
  (coeq a)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">reflexivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkd5" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkd5">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> : B,
transport
  (<span class="kr">fun</span> <span class="nv">w</span> : Coeq g f =&gt;
   (Coeq_sym_map f g o Coeq_sym_map g f) w = idmap w)
  (cglue b) ((<span class="kr">fun</span> <span class="nv">a</span> : A =&gt; <span class="mi">1</span>) (g b)) =
(<span class="kr">fun</span> <span class="nv">a</span> : A =&gt; <span class="mi">1</span>) (f b)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkd6" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkd6"><span class="nb">intro</span> b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport
  (<span class="kr">fun</span> <span class="nv">w</span> : Coeq g f =&gt;
   (Coeq_sym_map f g o Coeq_sym_map g f) w = idmap w)
  (cglue b) ((<span class="kr">fun</span> <span class="nv">a</span> : A =&gt; <span class="mi">1</span>) (g b)) =
(<span class="kr">fun</span> <span class="nv">a</span> : A =&gt; <span class="mi">1</span>) (f b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkd7" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkd7"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport
  (<span class="kr">fun</span> <span class="nv">w</span> : Coeq g f =&gt;
   Coeq_sym_map f g (Coeq_sym_map g f w) = w)
  (cglue b) <span class="mi">1</span> = <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kp">abstract</span> (<span class="nb">rewrite</span> transport_paths_FFlr, Coeq_rec_beta_cglue, ap_V, Coeq_rec_beta_cglue; hott_simpl).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkd8" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkd8"><span class="kn">Lemma</span> <span class="nf">Coeq_sym</span> {<span class="nv">B</span> <span class="nv">A</span>} {<span class="nv">f</span> <span class="nv">g</span> : B -&gt; A} : @Coeq B A f g &lt;~&gt; Coeq g f.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Coeq f g &lt;~&gt; Coeq g f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkd9" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkd9"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Coeq f g &lt;~&gt; Coeq g f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (equiv_adjointify (Coeq_sym_map f g) (Coeq_sym_map g f) sect_Coeq_sym_map sect_Coeq_sym_map).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="sd">(** ** Flattening *)</span>

<span class="sd">(** The flattening lemma for coequalizers follows from the flattening lemma for graph quotients. *)</span>

</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">Flattening</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span> `{Univalence} {B A : <span class="kt">Type</span>} {f g : B -&gt; A}
    (F : A -&gt; <span class="kt">Type</span>) (e : <span class="kr">forall</span> <span class="nv">b</span>, F (f b) &lt;~&gt; F (g b)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">coeq_flatten_fam</span> : Coeq f g -&gt; <span class="kt">Type</span>
    := Coeq_rec <span class="kt">Type</span> F (<span class="kr">fun</span> <span class="nv">x</span> =&gt; path_universe (e x)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Local Definition</span> <span class="nf">R</span> (<span class="nv">a</span> <span class="nv">b</span> : A) := {x : B &amp; (f x = a) * (g x = b)}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkda" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkda"><span class="kn">Local Definition</span> <span class="nf">e&#39;</span> (<span class="nv">a</span> <span class="nv">b</span> : A) : R a b -&gt; (F a &lt;~&gt; F b).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, F (f b) &lt;~&gt; F (g b)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">R a b -&gt; F a &lt;~&gt; F b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkdb" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkdb"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, F (f b) &lt;~&gt; F (g b)</span></span></span><br><span><var>a, b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">R a b -&gt; F a &lt;~&gt; F b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> [x [[] []]]; <span class="bp">exact</span> (e x).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkdc" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkdc"><span class="kn">Definition</span> <span class="nf">equiv_coeq_flatten</span>
    : sig coeq_flatten_fam
    &lt;~&gt; Coeq (functor_sigma f (<span class="kr">fun</span> <span class="nv">_</span> =&gt; idmap)) (functor_sigma g e).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, F (f b) &lt;~&gt; F (g b)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{x : _ &amp; coeq_flatten_fam x} &lt;~&gt;
Coeq (functor_sigma f (<span class="kr">fun</span> <span class="nv">a</span> : B =&gt; idmap))
  (functor_sigma g (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; e b))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkdd" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkdd"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, F (f b) &lt;~&gt; F (g b)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{x : _ &amp; coeq_flatten_fam x} &lt;~&gt;
Coeq (functor_sigma f (<span class="kr">fun</span> <span class="nv">a</span> : B =&gt; idmap))
  (functor_sigma g (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; e b))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkde" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkde">snrefine (_ oE equiv_gq_flatten F e&#39; oE _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, F (f b) &lt;~&gt; F (g b)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">GraphQuotient
  (<span class="kr">fun</span> <span class="nv">a</span> <span class="nv">b</span> : {x : _ &amp; F x} =&gt;
   {r : R a.<span class="mi">1</span> b.<span class="mi">1</span> &amp; e&#39; a.<span class="mi">1</span> b.<span class="mi">1</span> r a.<span class="mi">2</span> = b.<span class="mi">2</span>}) &lt;~&gt;
Coeq (functor_sigma f (<span class="kr">fun</span> <span class="nv">a</span> : B =&gt; idmap))
  (functor_sigma g (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; e b))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="coeq-v-chkdf" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, F (f b) &lt;~&gt; F (g b)</span></span></span><br></div><label class="goal-separator" for="coeq-v-chkdf"><hr></label><div class="goal-conclusion">{x : _ &amp; coeq_flatten_fam x} &lt;~&gt;
{x : _ &amp; DGraphQuotient F e&#39; x}</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chke0" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chke0">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, F (f b) &lt;~&gt; F (g b)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">GraphQuotient
  (<span class="kr">fun</span> <span class="nv">a</span> <span class="nv">b</span> : {x : _ &amp; F x} =&gt;
   {r : R a.<span class="mi">1</span> b.<span class="mi">1</span> &amp; e&#39; a.<span class="mi">1</span> b.<span class="mi">1</span> r a.<span class="mi">2</span> = b.<span class="mi">2</span>}) &lt;~&gt;
Coeq (functor_sigma f (<span class="kr">fun</span> <span class="nv">a</span> : B =&gt; idmap))
  (functor_sigma g (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; e b))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chke1" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chke1">snrapply equiv_functor_gq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, F (f b) &lt;~&gt; F (g b)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{x : _ &amp; F x} &lt;~&gt; {x : _ &amp; F x}</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="coeq-v-chke2" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, F (f b) &lt;~&gt; F (g b)</span></span></span><br></div><label class="goal-separator" for="coeq-v-chke2"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : {x : _ &amp; F x},
(<span class="kr">fun</span> <span class="nv">a0</span> <span class="nv">b0</span> : {x : _ &amp; F x} =&gt;
 {r : R a0.<span class="mi">1</span> b0.<span class="mi">1</span> &amp; e&#39; a0.<span class="mi">1</span> b0.<span class="mi">1</span> r a0.<span class="mi">2</span> = b0.<span class="mi">2</span>}) a b &lt;~&gt;
(<span class="kr">fun</span> <span class="nv">a0</span> <span class="nv">b0</span> : {x : _ &amp; F x} =&gt;
 {x : {H : B &amp; F (f H)} &amp;
 (functor_sigma f (<span class="kr">fun</span> <span class="nv">a1</span> : B =&gt; idmap) x = a0) *
 (functor_sigma g (<span class="kr">fun</span> <span class="nv">b1</span> : B =&gt; e b1) x = b0)})
  (<span class="nl">?f0</span> a) (<span class="nl">?f0</span> b)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chke3" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chke3"><span class="mi">1</span>: <span class="bp">reflexivity</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, F (f b) &lt;~&gt; F (g b)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> : {x : _ &amp; F x},
(<span class="kr">fun</span> <span class="nv">a0</span> <span class="nv">b0</span> : {x : _ &amp; F x} =&gt;
 {r : R a0.<span class="mi">1</span> b0.<span class="mi">1</span> &amp; e&#39; a0.<span class="mi">1</span> b0.<span class="mi">1</span> r a0.<span class="mi">2</span> = b0.<span class="mi">2</span>}) a b &lt;~&gt;
(<span class="kr">fun</span> <span class="nv">a0</span> <span class="nv">b0</span> : {x : _ &amp; F x} =&gt;
 {x : {H : B &amp; F (f H)} &amp;
 (functor_sigma f (<span class="kr">fun</span> <span class="nv">a1</span> : B =&gt; idmap) x = a0) *
 (functor_sigma g (<span class="kr">fun</span> <span class="nv">b1</span> : B =&gt; e b1) x = b0)})
  (<span class="mi">1</span>%equiv a) (<span class="mi">1</span>%equiv b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chke4" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chke4"><span class="nb">intros</span> [a x] [b y]; <span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, F (f b) &lt;~&gt; F (g b)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>F a</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>F b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{r : R a b &amp; e&#39; a b r x = y} &lt;~&gt;
{x0 : {H : B &amp; F (f H)} &amp;
(functor_sigma f (<span class="kr">fun</span> <span class="nv">a</span> : B =&gt; idmap) x0 = (a; x)) *
(functor_sigma g (<span class="kr">fun</span> <span class="nv">b</span> : B =&gt; e b) x0 = (b; y))}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chke5" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chke5"><span class="nb">unfold</span> functor_sigma.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, F (f b) &lt;~&gt; F (g b)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>F a</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>F b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{r : R a b &amp; e&#39; a b r x = y} &lt;~&gt;
{x0 : {H : B &amp; F (f H)} &amp;
((f x0.<span class="mi">1</span>; x0.<span class="mi">2</span>) = (a; x)) *
((g x0.<span class="mi">1</span>; e x0.<span class="mi">1</span> x0.<span class="mi">2</span>) = (b; y))}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      <span class="c">(* We use [equiv_path_sigma] twice on the RHS: *)</span>
</span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chke6" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chke6">equiv_via {x0 : {H0 : B &amp; F (f H0)} &amp;
                      {p : f x0.<span class="mi">1</span> = a &amp; p # x0.<span class="mi">2</span> = x} * {q : g x0.<span class="mi">1</span> = b &amp; q # e x0.<span class="mi">1</span> x0.<span class="mi">2</span> = y}}.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, F (f b) &lt;~&gt; F (g b)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>F a</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>F b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{r : R a b &amp; e&#39; a b r x = y} &lt;~&gt;
{x0 : {H0 : B &amp; F (f H0)} &amp;
{p : f x0.<span class="mi">1</span> = a &amp; transport F p x0.<span class="mi">2</span> = x} *
{q : g x0.<span class="mi">1</span> = b &amp; transport F q (e x0.<span class="mi">1</span> x0.<span class="mi">2</span>) = y}}</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="coeq-v-chke7" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, F (f b) &lt;~&gt; F (g b)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>F a</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>F b</span></span></span><br></div><label class="goal-separator" for="coeq-v-chke7"><hr></label><div class="goal-conclusion">{x0 : {H0 : B &amp; F (f H0)} &amp;
{p : f x0.<span class="mi">1</span> = a &amp; transport F p x0.<span class="mi">2</span> = x} *
{q : g x0.<span class="mi">1</span> = b &amp; transport F q (e x0.<span class="mi">1</span> x0.<span class="mi">2</span>) = y}} &lt;~&gt;
{x0 : {H : B &amp; F (f H)} &amp;
((f x0.<span class="mi">1</span>; x0.<span class="mi">2</span>) = (a; x)) *
((g x0.<span class="mi">1</span>; e x0.<span class="mi">1</span> x0.<span class="mi">2</span>) = (b; y))}</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chke8" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chke8"><span class="mi">2</span>: {</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, F (f b) &lt;~&gt; F (g b)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>F a</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>F b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{x0 : {H0 : B &amp; F (f H0)} &amp;
{p : f x0.<span class="mi">1</span> = a &amp; transport F p x0.<span class="mi">2</span> = x} *
{q : g x0.<span class="mi">1</span> = b &amp; transport F q (e x0.<span class="mi">1</span> x0.<span class="mi">2</span>) = y}} &lt;~&gt;
{x0 : {H : B &amp; F (f H)} &amp;
((f x0.<span class="mi">1</span>; x0.<span class="mi">2</span>) = (a; x)) *
((g x0.<span class="mi">1</span>; e x0.<span class="mi">1</span> x0.<span class="mi">2</span>) = (b; y))}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chke9" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chke9">nrapply equiv_functor_sigma_id; <span class="nb">intros</span> [c z]; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, F (f b) &lt;~&gt; F (g b)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>F a</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>F b</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>F (f c)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{p : f c = a &amp; transport F p z = x} *
{q : g c = b &amp; transport F q (e c z) = y} &lt;~&gt;
((f c; z) = (a; x)) * ((g c; e c z) = (b; y))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">           </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkea" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkea">nrapply equiv_functor_prod&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, F (f b) &lt;~&gt; F (g b)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>F a</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>F b</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>F (f c)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{p : f c = a &amp; transport F p z = x} &lt;~&gt;
(f c; z) = (a; x)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="coeq-v-chkeb" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, F (f b) &lt;~&gt; F (g b)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>F a</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>F b</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>F (f c)</span></span></span><br></div><label class="goal-separator" for="coeq-v-chkeb"><hr></label><div class="goal-conclusion">{q : g c = b &amp; transport F q (e c z) = y} &lt;~&gt;
(g c; e c z) = (b; y)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">           </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kp">all</span>: <span class="nb">apply</span> (equiv_path_sigma _ (_; _) (_; _)).</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkec" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkec">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, F (f b) &lt;~&gt; F (g b)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>F a</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>F b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{r : R a b &amp; e&#39; a b r x = y} &lt;~&gt;
{x0 : {H0 : B &amp; F (f H0)} &amp;
{p : f x0.<span class="mi">1</span> = a &amp; transport F p x0.<span class="mi">2</span> = x} *
{q : g x0.<span class="mi">1</span> = b &amp; transport F q (e x0.<span class="mi">1</span> x0.<span class="mi">2</span>) = y}}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      <span class="c">(* [make_equiv_contr_basedpaths.] handles the rest, but is slow, so we do some steps manually. *)</span>
      <span class="c">(* The RHS can be shuffled to this form: *)</span>
</span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chked" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chked">equiv_via {r : R a b &amp; { x02 : F (f r.<span class="mi">1</span>) &amp; (transport F (fst r.<span class="mi">2</span>) x02 = x) *
                                                 (transport F (snd r.<span class="mi">2</span>) (e r.<span class="mi">1</span> x02) = y)}}.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, F (f b) &lt;~&gt; F (g b)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>F a</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>F b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{r : R a b &amp; e&#39; a b r x = y} &lt;~&gt;
{r : R a b &amp;
{x02 : F (f r.<span class="mi">1</span>) &amp;
(transport F (fst r.<span class="mi">2</span>) x02 = x) *
(transport F (snd r.<span class="mi">2</span>) (e r.<span class="mi">1</span> x02) = y)}}</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="coeq-v-chkee" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, F (f b) &lt;~&gt; F (g b)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>F a</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>F b</span></span></span><br></div><label class="goal-separator" for="coeq-v-chkee"><hr></label><div class="goal-conclusion">{r : R a b &amp;
{x02 : F (f r.<span class="mi">1</span>) &amp;
(transport F (fst r.<span class="mi">2</span>) x02 = x) *
(transport F (snd r.<span class="mi">2</span>) (e r.<span class="mi">1</span> x02) = y)}} &lt;~&gt;
{x0 : {H0 : B &amp; F (f H0)} &amp;
{p : f x0.<span class="mi">1</span> = a &amp; transport F p x0.<span class="mi">2</span> = x} *
{q : g x0.<span class="mi">1</span> = b &amp; transport F q (e x0.<span class="mi">1</span> x0.<span class="mi">2</span>) = y}}</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkef" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkef"><span class="mi">2</span>: make_equiv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, F (f b) &lt;~&gt; F (g b)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>F a</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>F b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{r : R a b &amp; e&#39; a b r x = y} &lt;~&gt;
{r : R a b &amp;
{x02 : F (f r.<span class="mi">1</span>) &amp;
(transport F (fst r.<span class="mi">2</span>) x02 = x) *
(transport F (snd r.<span class="mi">2</span>) (e r.<span class="mi">1</span> x02) = y)}}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      <span class="c">(* Three path contractions handle the rest. *)</span>
</span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkf0" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkf0">nrapply equiv_functor_sigma_id; <span class="nb">intros</span> [c [p q]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, F (f b) &lt;~&gt; F (g b)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>F a</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>A</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>F b</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>f c = a</span></span></span><br><span><var>q</var><span class="hyp-type"><b>: </b><span>g c = b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">e&#39; a b (c; (p, q)) x = y &lt;~&gt;
{x02 : F (f (c; (p, q)).<span class="mi">1</span>) &amp;
(transport F (fst (c; (p, q)).<span class="mi">2</span>) x02 = x) *
(transport F (snd (c; (p, q)).<span class="mi">2</span>) (e (c; (p, q)).<span class="mi">1</span> x02) =
 y)}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkf1" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkf1"><span class="nb">destruct</span> p, q; <span class="nb">unfold</span> e&#39;; <span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, F (f b) &lt;~&gt; F (g b)</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>F (f c)</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>F (g c)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">e c x = y &lt;~&gt;
{x02 : F (f c) &amp; (x02 = x) * (e c x02 = y)}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input">make_equiv_contr_basedpaths.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkf2" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkf2">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, F (f b) &lt;~&gt; F (g b)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{x : _ &amp; coeq_flatten_fam x} &lt;~&gt;
{x : _ &amp; DGraphQuotient F e&#39; x}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkf3" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkf3"><span class="nb">apply</span> equiv_functor_sigma_id; <span class="nb">intros</span> x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, F (f b) &lt;~&gt; F (g b)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Coeq f g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">coeq_flatten_fam x &lt;~&gt; DGraphQuotient F e&#39; x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkf4" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkf4"><span class="nb">apply</span> equiv_path.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, F (f b) &lt;~&gt; F (g b)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Coeq f g</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">coeq_flatten_fam x = DGraphQuotient F e&#39; x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkf5" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkf5"><span class="nb">revert</span> x; snrapply Coeq_ind.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, F (f b) &lt;~&gt; F (g b)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">a</span> : A,
(<span class="kr">fun</span> <span class="nv">w</span> : Coeq f g =&gt;
 coeq_flatten_fam w = DGraphQuotient F e&#39; w) (coeq a)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="coeq-v-chkf6" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, F (f b) &lt;~&gt; F (g b)</span></span></span><br></div><label class="goal-separator" for="coeq-v-chkf6"><hr></label><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> : B,
transport
  (<span class="kr">fun</span> <span class="nv">w</span> : Coeq f g =&gt;
   coeq_flatten_fam w = DGraphQuotient F e&#39; w)
  (cglue b) (<span class="nl">?coeq&#39;</span> (f b)) = <span class="nl">?coeq&#39;</span> (g b)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkf7" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkf7"><span class="mi">1</span>: <span class="bp">reflexivity</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, F (f b) &lt;~&gt; F (g b)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> : B,
transport
  (<span class="kr">fun</span> <span class="nv">w</span> : Coeq f g =&gt;
   coeq_flatten_fam w = DGraphQuotient F e&#39; w)
  (cglue b) ((<span class="kr">fun</span> <span class="nv">a</span> : A =&gt; <span class="mi">1</span>) (f b)) =
(<span class="kr">fun</span> <span class="nv">a</span> : A =&gt; <span class="mi">1</span>) (g b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkf8" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkf8"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, F (f b) &lt;~&gt; F (g b)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">forall</span> <span class="nv">b</span> : B,
transport
  (<span class="kr">fun</span> <span class="nv">w</span> : Coeq f g =&gt;
   coeq_flatten_fam w = DGraphQuotient F e&#39; w)
  (cglue b) <span class="mi">1</span> = <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkf9" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkf9"><span class="nb">intros</span> b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, F (f b) &lt;~&gt; F (g b)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transport
  (<span class="kr">fun</span> <span class="nv">w</span> : Coeq f g =&gt;
   coeq_flatten_fam w = DGraphQuotient F e&#39; w)
  (cglue b) <span class="mi">1</span> = <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkfa" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkfa">snrapply (dpath_path_FlFr (cglue b)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, F (f b) &lt;~&gt; F (g b)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">1</span> @ ap (DGraphQuotient F e&#39;) (cglue b) =
ap coeq_flatten_fam (cglue b) @ <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkfb" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkfb"><span class="nb">apply</span> equiv_1p_q1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, F (f b) &lt;~&gt; F (g b)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap (DGraphQuotient F e&#39;) (cglue b) =
ap coeq_flatten_fam (cglue b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="coeq-v-chkfc" style="display: none" type="checkbox"><label class="alectryon-input" for="coeq-v-chkfc">rhs nrapply Coeq_rec_beta_cglue.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>Univalence</span></span></span><br><span><var>B, A</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>f, g</var><span class="hyp-type"><b>: </b><span>B -&gt; A</span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>A -&gt; <span class="kt">Type</span></span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">b</span> : B, F (f b) &lt;~&gt; F (g b)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>B</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ap (DGraphQuotient F e&#39;) (cglue b) =
path_universe (e b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (GraphQuotient_rec_beta_gqglue _
               (<span class="kr">fun</span> <span class="nv">a</span> <span class="nv">b</span> <span class="nv">s</span> =&gt; path_universe (e&#39; a b s)) _ _ _).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">Flattening</span>.</span></span></pre>
</div>
</div></body>
</html>
